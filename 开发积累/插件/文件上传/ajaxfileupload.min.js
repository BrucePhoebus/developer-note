jQuery.extend({createUploadIframe:function(b,c){var a="jUploadFrame"+b;if(window.ActiveXObject){var d=document.createElement('\x3ciframe id\x3d"'+a+'" name\x3d"'+a+'" /\x3e');"boolean"==typeof c?d.src="javascript:false":"string"==typeof c&&(d.src=c)}else d=document.createElement("iframe"),d.id=a,d.name=a;d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(b,c){var a="jUploadForm"+b,d="jUploadFile"+b,a=$('\x3cform  action\x3d"" method\x3d"POST" name\x3d"'+a+'" id\x3d"'+a+'" enctype\x3d"multipart/form-data"\x3e\x3c/form\x3e'),g=$("#"+c),e=$(g).clone();$(g).attr("id",d);$(g).before(e);$(g).appendTo(a);$(a).css("position","absolute");$(a).css("top","-1200px");$(a).css("left","-1200px");$(a).appendTo("body");return a},ajaxFileUpload:function(b){b=jQuery.extend({},jQuery.ajaxSettings,b);var c=b.fileElementId,a=jQuery.createUploadForm(c,b.fileElementId);jQuery.createUploadIframe(c,b.secureuri);var d="jUploadFrame"+c,c="jUploadForm"+c;b.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var g=!1,e={};b.global&&jQuery.event.trigger("ajaxSend",[e,b]);var l=function(c){var f=document.getElementById(d);try{f.contentWindow?(e.responseText=f.contentWindow.document.body?f.contentWindow.document.body.innerHTML:null,e.responseXML=f.contentWindow.document.XMLDocument?f.contentWindow.document.XMLDocument:f.contentWindow.document):f.contentDocument&&(e.responseText=f.contentDocument.document.body?f.contentDocument.document.body.innerHTML:null,e.responseXML=f.contentDocument.document.XMLDocument?f.contentDocument.document.XMLDocument:f.contentDocument.document)}catch(k){jQuery.handleError(b,e,null,k)}if(e||"timeout"==c){g=!0;var h;try{if(h="timeout"!=c?"success":"error","error"!=h){var l=jQuery.uploadHttpData(e,b.dataType);b.success&&b.success(l,h);b.global&&jQuery.event.trigger("ajaxSuccess",[e,b])}else jQuery.handleError(b,e,h)}catch(k){h="error",jQuery.handleError(b,e,h,k)}b.global&&jQuery.event.trigger("ajaxComplete",[e,b]);b.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop");b.complete&&b.complete(e,h);jQuery(f).unbind();setTimeout(function(){try{$(f).remove(),$(a).remove()}catch(k){jQuery.handleError(b,e,null,k)}},100);e=null}};0<b.timeout&&setTimeout(function(){g||l("timeout")},b.timeout);try{a=$("#"+c),$(a).attr("action",b.url),$(a).attr("method","POST"),$(a).attr("target",d),a.encoding?a.encoding="multipart/form-data":a.enctype="multipart/form-data",$(a).submit()}catch(m){jQuery.handleError(b,e,null,m)}window.attachEvent?document.getElementById(d).attachEvent("onload",l):document.getElementById(d).addEventListener("load",l,!1);return{abort:function(){}}},handleError:function(b,c,a,d){b.error&&b.error.call(c,a,d);b.global&&(b.context?jQuery(b.context):jQuery.event).trigger("ajaxError",[c,b,d])},uploadHttpData:function(b,c){var a=c&&"xml"!=c?b.responseText:b.responseXML;"script"==c&&jQuery.globalEval(a);if("json"==c){if((a=jQuery.trim(a))&&"\x3c"==a.charAt(0)){var d=a.indexOf("\x3e")+1;if(0<d){var g=a.lastIndexOf("\x3c");0>g&&(g=a.length);a=a.substring(d,g)}else a=null}a&&(a=eval("("+a+")"))}"html"==c&&jQuery("\x3cdiv\x3e").html(a).evalScripts();return a}});
//# sourceMappingURL=ajaxfileupload.min.js.map
