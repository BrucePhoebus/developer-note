/* Copyright 2017 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/******/
(function(m){function g(q){if(h[q])return h[q].exports;var k=h[q]={i:q,l:!1,exports:{}};m[q].call(k.exports,k,k.exports,g);k.l=!0;return k.exports}var h={};g.m=m;g.c=h;g.i=function(g){return g};g.d=function(h,k,f){g.o(h,k)||Object.defineProperty(h,k,{configurable:!1,enumerable:!0,get:f})};g.n=function(h){var k=h&&h.__esModule?function(){return h["default"]}:function(){return h};g.d(k,"a",k);return k};g.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)};g.p="";return g(g.s=33)})([function(m,g,h){function q(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function k(a,b){return b?a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,e){return e in b?b[e]:"{{"+e+"}}"}):a}function f(a,b){var e=0,c=a.length-1;if(0===a.length||!b(a[c]))return a.length;if(b(a[e]))return e;for(;e<c;){var l=e+c>>1;b(a[l])?c=l:e=l+1}return e}Object.defineProperty(g,"__esModule",{value:!0});g.localized=g.animationStarted=g.normalizeWheelEventDelta=g.binarySearchFirstItem=g.watchScroll=g.scrollIntoView=g.getOutputScale=g.approximateFraction=g.roundToDivide=g.getVisibleElements=g.parseQueryString=g.noContextMenuHandler=g.getPDFFileNameFromURL=g.ProgressBar=g.EventBus=g.NullL10n=g.mozL10n=g.RendererType=g.cloneObj=g.VERTICAL_PADDING=g.SCROLLBAR_PADDING=g.MAX_AUTO_SCALE=g.UNKNOWN_SCALE=g.MAX_SCALE=g.MIN_SCALE=g.DEFAULT_SCALE=g.DEFAULT_SCALE_VALUE=g.CSS_UNITS=void 0;var d=function(){function a(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,e,c){e&&a(b.prototype,e);c&&a(b,c);return b}}();h=h(1);m=96/72;h.PDFJS.disableFullscreen=void 0===h.PDFJS.disableFullscreen?!1:h.PDFJS.disableFullscreen;h.PDFJS.useOnlyCssZoom=void 0===h.PDFJS.useOnlyCssZoom?!1:h.PDFJS.useOnlyCssZoom;h.PDFJS.maxCanvasPixels=void 0===h.PDFJS.maxCanvasPixels?16777216:h.PDFJS.maxCanvasPixels;h.PDFJS.disableHistory=void 0===h.PDFJS.disableHistory?!1:h.PDFJS.disableHistory;h.PDFJS.disableTextLayer=void 0===h.PDFJS.disableTextLayer?!1:h.PDFJS.disableTextLayer;h.PDFJS.ignoreCurrentPositionOnZoom=void 0===h.PDFJS.ignoreCurrentPositionOnZoom?!1:h.PDFJS.ignoreCurrentPositionOnZoom;h.PDFJS.locale=void 0===h.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:h.PDFJS.locale;h=new Promise(function(a){window.requestAnimationFrame(a)});var c=Promise.resolve(),b=function(){function a(){q(this,a);this._listeners=Object.create(null)}d(a,[{key:"on",value:function(a,b){var e=this._listeners[a];e||(e=[],this._listeners[a]=e);e.push(b)}},{key:"off",value:function(a,b){a=this._listeners[a];var e=void 0;!a||0>(e=a.indexOf(b))||a.splice(e,1)}},{key:"dispatch",value:function(a){var b=this._listeners[a];if(b&&0!==b.length){var e=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(a){a.apply(null,e)})}}}]);return a}(),a=function(){function a(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.height,l=e.width,e=e.units;q(this,a);this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=c||100;this.width=l||100;this.units=e||"%";this.div.style.height=this.height+this.units;this.percent=0}d(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();g.CSS_UNITS=m;g.DEFAULT_SCALE_VALUE="auto";g.DEFAULT_SCALE=1;g.MIN_SCALE=.25;g.MAX_SCALE=10;g.UNKNOWN_SCALE=0;g.MAX_AUTO_SCALE=1.25;g.SCROLLBAR_PADDING=40;g.VERTICAL_PADDING=5;g.cloneObj=function(a){var b=Object.create(null),e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);return b};g.RendererType={CANVAS:"canvas",SVG:"svg"};g.mozL10n=void 0;g.NullL10n={get:function(a,b,c){return Promise.resolve(k(c,b))},translate:function(a){return Promise.resolve()}};g.EventBus=b;g.ProgressBar=a;g.getPDFFileNameFromURL=function(a){for(var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",e=0,c=a.length;e<c&&""===a[e].trim();)e++;if("data:"===a.substr(e,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),b;e=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;c=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(c=e.exec(c[1])||e.exec(c[2])||e.exec(c[3]))if(c=c[0],-1!==c.indexOf("%"))try{c=e.exec(decodeURIComponent(c))[0]}catch(x){}return c||b};g.noContextMenuHandler=function(a){a.preventDefault()};g.parseQueryString=function(a){a=a.split("\x26");for(var b=Object.create(null),e=0,c=a.length;e<c;++e){var d=a[e].split("\x3d"),f=d[0].toLowerCase(),d=1<d.length?d[1]:null;b[decodeURIComponent(f)]=decodeURIComponent(d)}return b};g.getVisibleElements=function(a,b){function e(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>l}for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,l=a.scrollTop,d=l+a.clientHeight,p=a.scrollLeft,v=p+a.clientWidth,g=[],h=void 0,w=void 0,k=void 0,z=void 0,m=z=w=void 0,w=void 0,q=0===b.length?0:f(b,e),F=b.length;q<F;q++){h=b[q];w=h.div;k=w.offsetTop+w.clientTop;z=w.clientHeight;if(k>d)break;m=w.offsetLeft+w.clientLeft;w=w.clientWidth;m+w<p||m>v||(w=Math.max(0,l-k)+Math.max(0,k+z-d),z=100*(z-w)/z|0,g.push({id:h.id,x:m,y:k,view:h,percent:z}))}d=g[0];p=g[g.length-1];c&&g.sort(function(a,b){var e=a.percent-b.percent;return.001<Math.abs(e)?-e:a.id-b.id});return{first:d,last:p,views:g}};g.roundToDivide=function(a,b){var e=a%b;return 0===e?a:Math.round(a-e+b)};g.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var b=1/a;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<a?b:a,e=0,c=1,d=1,f=1;;){var p=e+d,v=c+f;if(8<v)break;b<=p/v?(d=p,f=v):(e=p,c=v)}return b-e/c<d/f-b?b===a?[e,c]:[c,e]:b===a?[d,f]:[f,d]};g.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};g.scrollIntoView=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=a.offsetParent;if(e){for(var l=a.offsetTop+a.clientTop,d=a.offsetLeft+a.clientLeft;e.clientHeight===e.scrollHeight||c&&"hidden"===getComputedStyle(e).overflow;)if(e.dataset._scaleY&&(l/=e.dataset._scaleY,d/=e.dataset._scaleX),l+=e.offsetTop,d+=e.offsetLeft,e=e.offsetParent,!e)return;b&&(void 0!==b.top&&(l+=b.top),void 0!==b.left&&(d+=b.left,e.scrollLeft=d));e.scrollTop=l}else console.error("offsetParent is not set -- cannot scroll")};g.watchScroll=function(a,b){var e=function(e){l||(l=window.requestAnimationFrame(function(){l=null;var e=a.scrollTop,d=c.lastY;e!==d&&(c.down=e>d);c.lastY=e;b(c)}))},c={down:!0,lastY:a.scrollTop,_eventHandler:e},l=null;a.addEventListener("scroll",e,!0);return c};g.binarySearchFirstItem=f;g.normalizeWheelEventDelta=function(a){var b=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),c=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<c&&c<.75*Math.PI&&(b=-b);0===a.deltaMode?b/=900:1===a.deltaMode&&(b/=30);return b};g.animationStarted=h;g.localized=c},function(m,g,h){g="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("/public/pdf/pdf.js");m.exports=g},function(m,g,h){function q(d){d.on("documentload",function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});d.on("pagerendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,cssTransform:c.cssTransform});c.source.div.dispatchEvent(b)});d.on("textlayerrendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(b)});d.on("pagechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("pagechange",!0,!0,window,0);b.pageNumber=c.pageNumber;c.source.container.dispatchEvent(b)});d.on("pagesinit",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesinit",!0,!0,null);c.source.container.dispatchEvent(b)});d.on("pagesloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(b)});d.on("scalechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("scalechange",!0,!0,window,0);b.scale=c.scale;b.presetValue=c.presetValue;c.source.container.dispatchEvent(b)});d.on("updateviewarea",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("updateviewarea",!0,!0,window,0);b.location=c.location;c.source.container.dispatchEvent(b)});d.on("find",function(c){if(c.source!==window){var b=document.createEvent("CustomEvent");b.initCustomEvent("find"+c.type,!0,!0,{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});window.dispatchEvent(b)}});d.on("attachmentsloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});c.source.container.dispatchEvent(b)});d.on("sidebarviewchanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(b)});d.on("pagemode",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagemode",!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(b)});d.on("namedaction",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("namedaction",!0,!0,{action:c.action});c.source.pdfViewer.container.dispatchEvent(b)});d.on("presentationmodechanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});window.dispatchEvent(b)});d.on("outlineloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(b)})}Object.defineProperty(g,"__esModule",{value:!0});g.getGlobalEventBus=g.attachDOMEventsToEventBus=void 0;var k=h(0),f=null;g.attachDOMEventsToEventBus=q;g.getGlobalEventBus=function(){if(f)return f;f=new k.EventBus;q(f);return f}},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});var q=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),k={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};m=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}q(f,[{key:"setViewer",value:function(d){this.pdfViewer=d}},{key:"setThumbnailViewer",value:function(d){this.pdfThumbnailViewer=d}},{key:"isHighestPriority",value:function(d){return this.highestPriorityPage===d.renderingId}},{key:"renderHighestPriority",value:function(d){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(d)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(d,c,b){var a=d.views,e=a.length;if(0===e)return!1;for(var l=0;l<e;++l){var r=a[l].view;if(!this.isViewFinished(r))return r}d=b?d.last.id:d.first.id-2;return c[d]&&!this.isViewFinished(c[d])?c[d]:null}},{key:"isViewFinished",value:function(d){return d.renderingState===k.FINISHED}},{key:"renderView",value:function(d){var c=this;switch(d.renderingState){case k.FINISHED:return!1;case k.PAUSED:this.highestPriorityPage=d.renderingId;d.resume();break;case k.RUNNING:this.highestPriorityPage=d.renderingId;break;case k.INITIAL:this.highestPriorityPage=d.renderingId;var b=function(){c.renderHighestPriority()};d.draw().then(b,b)}return!0}}]);return f}();g.RenderingStates=k;g.PDFRenderingQueue=m},function(m,g,h){function q(a){a.imageResourcesPath="./images/";a.workerSrc="/public/pdf/pdf.worker.js";a.cMapUrl="../web/cmaps/";a.cMapPacked=!0}function k(a){return new Promise(function(b,c){var e=n.appConfig,l=document.createElement("script");l.src=e.debuggerScriptPath;l.onload=function(){PDFBug.enable(a);PDFBug.init({PDFJS:u.PDFJS,OPS:u.OPS},e.mainContainer);b()};l.onerror=function(){c(Error("Cannot load debugger at "+l.src))};(document.getElementsByTagName("head")[0]||document.body).appendChild(l)})}function f(){var a=n.appConfig,b=void 0,c=document.location.search.substring(1),c=(0,y.parseQueryString)(c),b="file"in c?c.file:a.defaultUrl;T(b);var c=[],e=document.createElement("input");e.id=a.openFileInputName;e.className="fileInput";e.setAttribute("type","file");e.oncontextmenu=y.noContextMenuHandler;document.body.appendChild(e);window.File&&window.FileReader&&window.FileList&&window.Blob?e.value=null:(a.toolbar.openFile.setAttribute("hidden","true"),a.secondaryToolbar.openFileButton.setAttribute("hidden","true"));if(n.viewerPrefs.pdfBugEnabled){e=document.location.hash.substring(1);e=(0,y.parseQueryString)(e);"disableworker"in e&&(u.PDFJS.disableWorker="true"===e.disableworker);"disablerange"in e&&(u.PDFJS.disableRange="true"===e.disablerange);"disablestream"in e&&(u.PDFJS.disableStream="true"===e.disablestream);"disableautofetch"in e&&(u.PDFJS.disableAutoFetch="true"===e.disableautofetch);"disablefontface"in e&&(u.PDFJS.disableFontFace="true"===e.disablefontface);"disablehistory"in e&&(u.PDFJS.disableHistory="true"===e.disablehistory);"webgl"in e&&(u.PDFJS.disableWebGL="true"!==e.webgl);"useonlycsszoom"in e&&(u.PDFJS.useOnlyCssZoom="true"===e.useonlycsszoom);"verbosity"in e&&(u.PDFJS.verbosity=e.verbosity|0);"ignorecurrentpositiononzoom"in e&&(u.PDFJS.ignoreCurrentPositionOnZoom="true"===e.ignorecurrentpositiononzoom);if("textlayer"in e)switch(e.textlayer){case "off":u.PDFJS.disableTextLayer=!0;break;case "visible":case "shadow":case "hover":a.viewerContainer.classList.add("textLayer-"+e.textlayer)}"pdfbug"in e&&(u.PDFJS.pdfBug=!0,e=e.pdfbug.split(","),c.push(k(e)))}n.supportsPrinting||(a.toolbar.print.classList.add("hidden"),a.secondaryToolbar.printButton.classList.add("hidden"));n.supportsFullscreen||(a.toolbar.presentationModeButton.classList.add("hidden"),a.secondaryToolbar.presentationModeButton.classList.add("hidden"));n.supportsIntegratedFind&&a.toolbar.viewFind.classList.add("hidden");a.sidebar.mainContainer.addEventListener("transitionend",function(a){a.target===this&&n.eventBus.dispatch("resize")},!0);a.sidebar.toggleButton.addEventListener("click",function(){n.pdfSidebar.toggle()});Promise.all(c).then(function(){U(b)}).catch(function(a){n.l10n.get("loading_error",null,"An error occurred while opening.").then(function(b){n.error(b,a)})})}function d(a){a=a.pageNumber;var b=a-1,e=n.pdfViewer.getPageView(b);a===n.page&&n.toolbar.updateLoadingIndicatorState(!1);e&&(n.pdfSidebar.isThumbnailViewVisible&&n.pdfThumbnailViewer.getThumbnail(b).setImage(e),u.PDFJS.pdfBug&&Stats.enabled&&e.stats&&Stats.add(a,e.stats),e.error&&n.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then(function(a){n.error(a,e.error)}))}function c(a){}function b(a){a=a.mode;switch(a){case "thumbs":a=D.SidebarView.THUMBS;break;case "bookmarks":case "outline":a=D.SidebarView.OUTLINE;break;case "attachments":a=D.SidebarView.ATTACHMENTS;break;case "none":a=D.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+a);return}n.pdfSidebar.switchView(a,!0)}function a(a){switch(a.action){case "GoToPage":n.appConfig.toolbar.pageNumber.select();break;case "Find":n.supportsIntegratedFind||n.findBar.toggle()}}function e(a){var b=a.active;n.pdfViewer.presentationModeState=a.switchInProgress?H.PresentationModeState.CHANGING:b?H.PresentationModeState.FULLSCREEN:H.PresentationModeState.NORMAL}function l(a){n.pdfRenderingQueue.isThumbnailViewEnabled=n.pdfSidebar.isThumbnailViewVisible;var b=n.store;b&&n.isInitialViewSet&&b.set("sidebarView",a.view).catch(function(){})}function r(a){a=a.location;var b=n.store;b&&n.isInitialViewSet&&b.setMultiple({exists:!0,page:a.pageNumber,zoom:a.scale,scrollLeft:a.left,scrollTop:a.top}).catch(function(){});b=n.pdfLinkService.getAnchorUrl(a.pdfOpenParams);n.appConfig.toolbar.viewBookmark.href=b;n.appConfig.secondaryToolbar.viewBookmarkButton.href=b;n.pdfHistory.updateCurrentBookmark(a.pdfOpenParams,a.pageNumber);a=n.pdfViewer.getPageView(n.page-1).renderingState!==V.RenderingStates.FINISHED;n.toolbar.updateLoadingIndicatorState(a)}function A(){var a=n.pdfViewer;if(n.pdfDocument){var b=a.currentScaleValue;if("auto"===b||"page-fit"===b||"page-width"===b)a.currentScaleValue=b;a.update()}}function x(a){n.pdfHistory.isHashChangeUnlocked&&(a=a.hash)&&(n.isInitialViewSet?n.pdfLinkService.setHash(a):n.initialBookmark=a)}function t(){n.requestPresentationMode()}function p(){document.getElementById(n.appConfig.openFileInputName).click()}function v(){window.print()}function C(){n.download()}function G(){n.pdfDocument&&(n.page=1)}function w(){n.pdfDocument&&(n.page=n.pagesCount)}function B(){n.page++}function z(){n.page--}function Q(){n.zoomIn()}function I(){n.zoomOut()}function F(a){var b=n.pdfViewer;b.currentPageLabel=a.value;a.value!==b.currentPageNumber.toString()&&a.value!==b.currentPageLabel&&n.toolbar.setPageNumber(b.currentPageNumber,b.currentPageLabel)}function P(a){n.pdfViewer.currentScaleValue=a.value}function J(){n.rotatePages(90)}function R(){n.rotatePages(-90)}function W(){n.pdfDocumentProperties.open()}function X(a){n.findController.executeCommand("find"+a.type,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious})}function Y(a){n.findController.executeCommand("find",{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:!1,highlightAll:!0,findPrevious:!1})}function Z(a){n.toolbar.setPageScale(a.presetValue,a.scale);n.pdfViewer.update()}function aa(a){var b=a.pageNumber;n.toolbar.setPageNumber(b,a.pageLabel||null);n.secondaryToolbar.setPageNumber(b);n.pdfSidebar.isThumbnailViewVisible&&n.pdfThumbnailViewer.scrollThumbnailIntoView(b);u.PDFJS.pdfBug&&Stats.enabled&&(a=n.pdfViewer.getPageView(b-1),a.stats&&Stats.add(b,a.stats))}function ba(a){var b=n.pdfViewer;if(!b.isInPresentationMode)if(a.ctrlKey||a.metaKey){var e=n.supportedMouseWheelZoomModifierKeys;if(!(a.ctrlKey&&!e.ctrlKey||a.metaKey&&!e.metaKey||(a.preventDefault(),L))){var e=b.currentScale,c=3*(0,y.normalizeWheelEventDelta)(a);0>c?n.zoomOut(-c):n.zoomIn(c);c=b.currentScale;if(e!==c){var e=c/e-1,c=b.container.getBoundingClientRect(),l=a.clientY-c.top;b.container.scrollLeft+=(a.clientX-c.left)*e;b.container.scrollTop+=l*e}}}else L=!0,clearTimeout(ca),ca=setTimeout(function(){L=!1},1E3)}function da(a){if(n.secondaryToolbar.isOpen){var b=n.appConfig;(n.pdfViewer.containsElement(a.target)||b.toolbar.container.contains(a.target)&&a.target!==b.secondaryToolbar.toggleButton)&&n.secondaryToolbar.close()}}function ea(a){if(!n.overlayManager.active){var b=!1,e=!1,c=(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0),l=n.pdfViewer,d=l&&l.isInPresentationMode;if(1===c||8===c||5===c||12===c)switch(a.keyCode){case 70:n.supportsIntegratedFind||(n.findBar.open(),b=!0);break;case 71:n.supportsIntegratedFind||((b=n.findController.state)&&n.findController.executeCommand("findagain",{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:5===c||12===c}),b=!0);break;case 61:case 107:case 187:case 171:d||n.zoomIn();b=!0;break;case 173:case 109:case 189:d||n.zoomOut();b=!0;break;case 48:case 96:d||(setTimeout(function(){l.currentScaleValue=y.DEFAULT_SCALE_VALUE}),b=!1);break;case 38:if(d||1<n.page)n.page=1,e=b=!0;break;case 40:if(d||n.page<n.pagesCount)n.page=n.pagesCount,e=b=!0}if(1===c||8===c)switch(a.keyCode){case 83:n.download(),b=!0}if(3===c||10===c)switch(a.keyCode){case 80:n.requestPresentationMode();b=!0;break;case 71:n.appConfig.toolbar.pageNumber.select(),b=!0}if(b)e&&!d&&l.focus(),a.preventDefault();else{var r=document.activeElement||document.querySelector(":focus"),E=r&&r.tagName.toUpperCase();if("INPUT"!==E&&"TEXTAREA"!==E&&"SELECT"!==E||27===a.keyCode){if(0===c)switch(a.keyCode){case 38:case 33:case 8:if(!d&&"page-fit"!==l.currentScaleValue)break;case 37:if(l.isHorizontalScrollbarEnabled)break;case 75:case 80:1<n.page&&n.page--;b=!0;break;case 27:n.secondaryToolbar.isOpen&&(n.secondaryToolbar.close(),b=!0);!n.supportsIntegratedFind&&n.findBar.opened&&(n.findBar.close(),b=!0);break;case 40:case 34:case 32:if(!d&&"page-fit"!==l.currentScaleValue)break;case 39:if(l.isHorizontalScrollbarEnabled)break;case 74:case 78:n.page<n.pagesCount&&n.page++;b=!0;break;case 36:if(d||1<n.page)n.page=1,e=b=!0;break;case 35:if(d||n.page<n.pagesCount)n.page=n.pagesCount,e=b=!0;break;case 83:n.pdfCursorTools.switchTool(M.CursorTool.SELECT);break;case 72:n.pdfCursorTools.switchTool(M.CursorTool.HAND);break;case 82:n.rotatePages(90)}if(4===c)switch(a.keyCode){case 32:if(!d&&"page-fit"!==l.currentScaleValue)break;1<n.page&&n.page--;b=!0;break;case 82:n.rotatePages(-90)}b||d||!(33<=a.keyCode&&40>=a.keyCode||32===a.keyCode&&"BUTTON"!==E)||(e=!0);if(2===c)switch(a.keyCode){case 37:d&&(n.pdfHistory.back(),b=!0);break;case 39:d&&(n.pdfHistory.forward(),b=!0)}e&&!l.containsElement(r)&&l.focus();b&&a.preventDefault()}}}}function fa(a){switch(a){case "UseThumbs":return D.SidebarView.THUMBS;case "UseOutlines":return D.SidebarView.OUTLINE;case "UseAttachments":return D.SidebarView.ATTACHMENTS}return D.SidebarView.NONE}Object.defineProperty(g,"__esModule",{value:!0});g.PDFPrintServiceFactory=g.DefaultExternalServices=g.PDFViewerApplication=void 0;var ha=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var e=[],c=!0,l=!1,d=void 0;try{for(var r=a[Symbol.iterator](),E;!(c=(E=r.next()).done)&&(e.push(E.value),!b||e.length!==b);c=!0);}catch(ga){l=!0,d=ga}finally{try{if(!c&&r["return"])r["return"]()}finally{if(l)throw d;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),y=h(0),u=h(1),M=h(6),V=h(3),D=h(24),H=h(27),ia=h(2),ja=h(15),ka=h(16),la=h(17),ma=h(18),na=h(19),oa=h(7),pa=h(20),qa=h(5),ra=h(21),sa=h(23),ta=h(26),ua=h(29),va=h(31),wa=h(32);m={updateFindControlState:function(a){},initPassiveLoading:function(a){},fallback:function(a,b){},reportTelemetry:function(a){},createDownloadManager:function(){throw Error("Not implemented: createDownloadManager");},createPreferences:function(){throw Error("Not implemented: createPreferences");},createL10n:function(){throw Error("Not implemented: createL10n");},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}};var n={initialBookmark:document.location.hash.substring(1),initialDestination:null,initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,viewerPrefs:{sidebarViewOnLoad:D.SidebarView.NONE,pdfBugEnabled:!1,showPreviousViewOnLoad:!0,defaultZoomValue:"",disablePageMode:!1,disablePageLabels:!1,renderer:"canvas",enhanceTextSelection:!1,renderInteractiveForms:!1,enablePrintAutoRotate:!1},isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:m,_boundEvents:{},initialize:function(a){var b=this;this.preferences=this.externalServices.createPreferences();q(u.PDFJS);this.appConfig=a;return this._readPreferences().then(function(){return b._initializeL10n()}).then(function(){return b._initializeViewerComponents()}).then(function(){b.bindEvents();b.bindWindowEvents();b.l10n.translate(a.appContainer||document.documentElement).then(function(){b.eventBus.dispatch("localized")});b.isViewerEmbedded&&!u.PDFJS.isExternalLinkTargetSet()&&(u.PDFJS.externalLinkTarget=u.PDFJS.LinkTarget.TOP);b.initialized=!0})},_readPreferences:function(){var a=this.preferences,b=this.viewerPrefs;return Promise.all([a.get("enableWebGL").then(function(a){u.PDFJS.disableWebGL=!a}),a.get("sidebarViewOnLoad").then(function(a){b.sidebarViewOnLoad=a}),a.get("pdfBugEnabled").then(function(a){b.pdfBugEnabled=a}),a.get("showPreviousViewOnLoad").then(function(a){b.showPreviousViewOnLoad=a}),a.get("defaultZoomValue").then(function(a){b.defaultZoomValue=a}),a.get("enhanceTextSelection").then(function(a){b.enhanceTextSelection=a}),a.get("disableTextLayer").then(function(a){!0!==u.PDFJS.disableTextLayer&&(u.PDFJS.disableTextLayer=a)}),a.get("disableRange").then(function(a){!0!==u.PDFJS.disableRange&&(u.PDFJS.disableRange=a)}),a.get("disableStream").then(function(a){!0!==u.PDFJS.disableStream&&(u.PDFJS.disableStream=a)}),a.get("disableAutoFetch").then(function(a){u.PDFJS.disableAutoFetch=a}),a.get("disableFontFace").then(function(a){!0!==u.PDFJS.disableFontFace&&(u.PDFJS.disableFontFace=a)}),a.get("useOnlyCssZoom").then(function(a){u.PDFJS.useOnlyCssZoom=a}),a.get("externalLinkTarget").then(function(a){u.PDFJS.isExternalLinkTargetSet()||(u.PDFJS.externalLinkTarget=a)}),a.get("renderer").then(function(a){b.renderer=a}),a.get("renderInteractiveForms").then(function(a){b.renderInteractiveForms=a}),a.get("disablePageMode").then(function(a){b.disablePageMode=a}),a.get("disablePageLabels").then(function(a){b.disablePageLabels=a}),a.get("enablePrintAutoRotate").then(function(a){b.enablePrintAutoRotate=a})]).catch(function(a){})},_initializeL10n:function(){if(this.viewerPrefs.pdfBugEnabled){var a=document.location.hash.substring(1),a=(0,y.parseQueryString)(a);"locale"in a&&(u.PDFJS.locale=a.locale)}this.l10n=this.externalServices.createL10n();return this.l10n.getDirection().then(function(a){document.getElementsByTagName("html")[0].dir=a})},_initializeViewerComponents:function(){var a=this,b=this.appConfig;return new Promise(function(e,c){a.overlayManager=new ja.OverlayManager;c=b.eventBus||(0,ia.getGlobalEventBus)();a.eventBus=c;var l=new V.PDFRenderingQueue;l.onIdle=a.cleanup.bind(a);a.pdfRenderingQueue=l;var d=new qa.PDFLinkService({eventBus:c});a.pdfLinkService=d;var r=a.externalServices.createDownloadManager();a.downloadManager=r;var p=b.mainContainer,f=b.viewerContainer;a.pdfViewer=new H.PDFViewer({container:p,viewer:f,eventBus:c,renderingQueue:l,linkService:d,downloadManager:r,renderer:a.viewerPrefs.renderer,l10n:a.l10n,enhanceTextSelection:a.viewerPrefs.enhanceTextSelection,renderInteractiveForms:a.viewerPrefs.renderInteractiveForms,enablePrintAutoRotate:a.viewerPrefs.enablePrintAutoRotate});l.setViewer(a.pdfViewer);d.setViewer(a.pdfViewer);a.pdfThumbnailViewer=new ta.PDFThumbnailViewer({container:b.sidebar.thumbnailView,renderingQueue:l,linkService:d,l10n:a.l10n});l.setThumbnailViewer(a.pdfThumbnailViewer);a.pdfHistory=new pa.PDFHistory({linkService:d,eventBus:c});d.setHistory(a.pdfHistory);a.findController=new oa.PDFFindController({pdfViewer:a.pdfViewer});a.findController.onUpdateResultsCount=function(b){a.supportsIntegratedFind||a.findBar.updateResultsCount(b)};a.findController.onUpdateState=function(b,e,c){a.supportsIntegratedFind?a.externalServices.updateFindControlState({result:b,findPrevious:e}):a.findBar.updateUIState(b,e,c)};a.pdfViewer.setFindController(a.findController);l=Object.create(b.findBar);l.findController=a.findController;l.eventBus=c;a.findBar=new na.PDFFindBar(l,a.l10n);a.pdfDocumentProperties=new ma.PDFDocumentProperties(b.documentProperties,a.overlayManager,a.l10n);a.pdfCursorTools=new M.PDFCursorTools({container:p,eventBus:c,preferences:a.preferences});a.toolbar=new va.Toolbar(b.toolbar,p,c,a.l10n);a.secondaryToolbar=new ua.SecondaryToolbar(b.secondaryToolbar,p,c);a.supportsFullscreen&&(a.pdfPresentationMode=new sa.PDFPresentationMode({container:p,viewer:f,pdfViewer:a.pdfViewer,eventBus:c,contextMenuItems:b.fullscreen}));a.passwordPrompt=new ka.PasswordPrompt(b.passwordOverlay,a.overlayManager,a.l10n);a.pdfOutlineViewer=new ra.PDFOutlineViewer({container:b.sidebar.outlineView,eventBus:c,linkService:d});a.pdfAttachmentViewer=new la.PDFAttachmentViewer({container:b.sidebar.attachmentsView,eventBus:c,downloadManager:r});d=Object.create(b.sidebar);d.pdfViewer=a.pdfViewer;d.pdfThumbnailViewer=a.pdfThumbnailViewer;d.pdfOutlineViewer=a.pdfOutlineViewer;d.eventBus=c;a.pdfSidebar=new D.PDFSidebar(d,a.l10n);a.pdfSidebar.onToggled=a.forceRendering.bind(a);e(void 0)})},run:function(a){this.initialize(a).then(f)},zoomIn:function(a){var b=this.pdfViewer.currentScale;do b=(1.1*b).toFixed(2),b=Math.ceil(10*b)/10,b=Math.min(y.MAX_SCALE,b);while(0<--a&&b<y.MAX_SCALE);this.pdfViewer.currentScaleValue=b},zoomOut:function(a){var b=this.pdfViewer.currentScale;do b=(b/1.1).toFixed(2),b=Math.floor(10*b)/10,b=Math.max(y.MIN_SCALE,b);while(0<--a&&b>y.MIN_SCALE);this.pdfViewer.currentScaleValue=b},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get pageRotation(){return this.pdfViewer.pagesRotation},set page(a){this.pdfViewer.currentPageNumber=a},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return N.instance.supportsPrinting},get supportsFullscreen(){var a;a=document.documentElement;a=!!(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen);if(!1===document.fullscreenEnabled||!1===document.mozFullScreenEnabled||!1===document.webkitFullscreenEnabled||!1===document.msFullscreenEnabled)a=!1;a&&!0===u.PDFJS.disableFullscreen&&(a=!1);return(0,u.shadow)(this,"supportsFullscreen",a)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var a=new y.ProgressBar("#loadingBar");return(0,u.shadow)(this,"loadingBar",a)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function(){throw Error("Not implemented: initPassiveLoading");},setTitleUsingUrl:function(a){this.url=a;this.baseUrl=a.split("#")[0];var b=(0,y.getPDFFileNameFromURL)(a,"");if(!b)try{b=decodeURIComponent((0,u.getFilenameFromUrl)(a))||a}catch(S){b=a}this.setTitle(b)},setTitle:function(a){this.isViewerEmbedded||(document.title=a)},close:function(){this.appConfig.errorWrapper.container.setAttribute("hidden","true");if(!this.pdfLoadingTask)return Promise.resolve();var a=this.pdfLoadingTask.destroy();this.pdfLoadingTask=null;this.pdfDocument&&(this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfDocumentProperties.setDocument(null,null));this.store=null;this.downloadComplete=this.isInitialViewSet=!1;this.pdfSidebar.reset();this.pdfOutlineViewer.reset();this.pdfAttachmentViewer.reset();this.findController.reset();this.findBar.reset();this.toolbar.reset();this.secondaryToolbar.reset();"undefined"!==typeof PDFBug&&PDFBug.cleanup();return a},open:function(a,b){var e=this;if(2<arguments.length||"number"===typeof b)return Promise.reject(Error("Call of open() with obsolete signature."));if(this.pdfLoadingTask)return this.close().then(function(){e.preferences.reload();return e.open(a,b)});var c=Object.create(null),l=void 0;"string"===typeof a?(this.setTitleUsingUrl(a),c.url=a):a&&"byteLength"in a?c.data=a:a.url&&a.originalUrl&&(this.setTitleUsingUrl(a.originalUrl),c.url=a.url);if(b){for(var d in b)c[d]=b[d];b.scale&&(l=b.scale);b.length&&this.pdfDocumentProperties.setFileSize(b.length)}this.pdfLoadingTask=c=(0,u.getDocument)(c);c.onPassword=function(a,b){e.passwordPrompt.setUpdateCallback(a,b);e.passwordPrompt.open()};c.onProgress=function(a){e.progress(a.loaded/a.total)};c.onUnsupportedFeature=this.fallback.bind(this);return c.promise.then(function(a){e.load(a,l)},function(a){var b=a&&a.message,c=void 0,c=a instanceof u.InvalidPDFException?e.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):a instanceof u.MissingPDFException?e.l10n.get("missing_file_error",null,"Missing PDF file."):a instanceof u.UnexpectedResponseException?e.l10n.get("unexpected_response_error",null,"Unexpected server response."):e.l10n.get("loading_error",null,"An error occurred while loading the PDF.");return c.then(function(a){e.error(a,{message:b});throw Error(a);})})},download:function(){function a(){l.downloadUrl(e,c)}var b=this,e=this.baseUrl,c=(0,y.getPDFFileNameFromURL)(this.url),l=this.downloadManager;l.onerror=function(a){b.error("PDF failed to download: "+a)};this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then(function(a){a=(0,u.createBlob)(a,"application/pdf");l.download(a,e,c)}).catch(a):a()},fallback:function(a){},error:function(a,b){var e=[this.l10n.get("error_version_info",{version:u.version||"?",build:u.build||"?"},"PDF.js v{{version}} (build: {{build}})")];b&&(e.push(this.l10n.get("error_message",{message:b.message},"Message: {{message}}")),b.stack?e.push(this.l10n.get("error_stack",{stack:b.stack},"Stack: {{stack}}")):(b.filename&&e.push(this.l10n.get("error_file",{file:b.filename},"File: {{file}}")),b.lineNumber&&e.push(this.l10n.get("error_line",{line:b.lineNumber},"Line: {{line}}"))));b=this.appConfig.errorWrapper;var c=b.container;c.removeAttribute("hidden");b.errorMessage.textContent=a;a=b.closeButton;a.onclick=function(){c.setAttribute("hidden","true")};var l=b.errorMoreInfo,d=b.moreInfoButton,r=b.lessInfoButton;d.onclick=function(){l.removeAttribute("hidden");d.setAttribute("hidden","true");r.removeAttribute("hidden");l.style.height=l.scrollHeight+"px"};r.onclick=function(){l.setAttribute("hidden","true");d.removeAttribute("hidden");r.setAttribute("hidden","true")};d.oncontextmenu=y.noContextMenuHandler;r.oncontextmenu=y.noContextMenuHandler;a.oncontextmenu=y.noContextMenuHandler;d.removeAttribute("hidden");r.setAttribute("hidden","true");Promise.all(e).then(function(a){l.value=a.join("\n")})},progress:function(a){var b=this;!this.downloadComplete&&(a=Math.round(100*a),a>this.loadingBar.percent||isNaN(a))&&(this.loadingBar.percent=a,u.PDFJS.disableAutoFetch&&a&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){b.loadingBar.hide();b.disableAutoFetchLoadingBarTimeout=null},5E3)))},load:function(a,b){var e=this;b=b||y.UNKNOWN_SCALE;this.pdfDocument=a;a.getDownloadInfo().then(function(){e.downloadComplete=!0;e.loadingBar.hide();p.then(function(){e.eventBus.dispatch("documentload",{source:e})})});var c=a.getPageMode().catch(function(){});this.toolbar.setPagesCount(a.numPages,!1);this.secondaryToolbar.setPagesCount(a.numPages);var l=this.documentFingerprint=a.fingerprint,d=this.store=new wa.ViewHistory(l);this.pdfLinkService.setDocument(a,null);this.pdfDocumentProperties.setDocument(a,this.url);var r=this.pdfViewer;r.setDocument(a);var p=r.firstPagePromise,f=r.pagesPromise,l=r.onePageRendered,v=this.pdfThumbnailViewer;v.setDocument(a);p.then(function(a){e.loadingBar.setWidth(e.appConfig.viewerContainer);u.PDFJS.disableHistory||e.isViewerEmbedded||(e.viewerPrefs.showPreviousViewOnLoad||e.pdfHistory.clearHistoryState(),e.pdfHistory.initialize(e.documentFingerprint),e.pdfHistory.initialDestination?e.initialDestination=e.pdfHistory.initialDestination:e.pdfHistory.initialBookmark&&(e.initialBookmark=e.pdfHistory.initialBookmark));var l=e.initialDestination,p=e.initialBookmark,v=null;a=d.getMultiple({exists:!1,page:"1",zoom:y.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",sidebarView:D.SidebarView.NONE}).catch(function(){});Promise.all([a,c]).then(function(a){var b=ha(a,2);a=b[0];a=void 0===a?{}:a;var b=b[1],c=e.viewerPrefs.defaultZoomValue?"zoom\x3d"+e.viewerPrefs.defaultZoomValue:null,l=e.viewerPrefs.sidebarViewOnLoad;a.exists&&e.viewerPrefs.showPreviousViewOnLoad&&(c="page\x3d"+a.page+"\x26zoom\x3d"+(e.viewerPrefs.defaultZoomValue||a.zoom)+","+a.scrollLeft+","+a.scrollTop,l=l||a.sidebarView|0);b&&!e.viewerPrefs.disablePageMode&&(l=l||fa(b));return{hash:c,sidebarView:l}}).then(function(a){var c=a.hash;e.setInitialView(c,{sidebarView:a.sidebarView,scale:b});v=c;e.isViewerEmbedded||r.focus();return f}).then(function(){(l||p||v)&&!r.hasEqualPageSizes&&(e.initialDestination=l,e.initialBookmark=p,r.currentScaleValue=r.currentScaleValue,e.setInitialView(v))}).then(function(){r.update()})});a.getPageLabels().then(function(b){if(b&&!e.viewerPrefs.disablePageLabels){var c=0,l=b.length;if(l!==e.pagesCount)console.error("The number of Page Labels does not match the number of pages in the document.");else{for(;c<l&&b[c]===(c+1).toString();)c++;c!==l&&(r.setPageLabels(b),v.setPageLabels(b),e.toolbar.setPagesCount(a.numPages,!0),e.toolbar.setPageNumber(r.currentPageNumber,r.currentPageLabel))}}});f.then(function(){e.supportsPrinting&&a.getJavaScript().then(function(a){a.length&&(console.warn("Warning: JavaScript is not supported"),e.fallback(u.UNSUPPORTED_FEATURES.javaScript));for(var b=/\bprint\s*\(/,c=0,l=a.length;c<l;c++){var d=a[c];if(d&&b.test(d)){setTimeout(function(){window.print()});break}}})});Promise.all([l,y.animationStarted]).then(function(){a.getOutline().then(function(a){e.pdfOutlineViewer.render({outline:a})});a.getAttachments().then(function(a){e.pdfAttachmentViewer.render({attachments:a})})});a.getMetadata().then(function(b){var c=b.info,l=b.metadata;e.documentInfo=c;e.metadata=l;console.log("PDF "+a.fingerprint+" ["+c.PDFFormatVersion+" "+(c.Producer||"-").trim()+" / "+(c.Creator||"-").trim()+"] (PDF.js: "+(u.version||"-")+(u.PDFJS.disableWebGL?"":" [WebGL]")+")");b=void 0;l&&l.has("dc:title")&&(l=l.get("dc:title"),"Untitled"!==l&&(b=l));!b&&c&&c.Title&&(b=c.Title);b&&e.setTitle(b+" - "+document.title);c.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),e.fallback(u.UNSUPPORTED_FEATURES.forms))})},setInitialView:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.scale,e=void 0===e?0:e,b=b.sidebarView,b=void 0===b?D.SidebarView.NONE:b;this.isInitialViewSet=!0;this.pdfSidebar.setInitialView(b);this.initialDestination?(this.pdfLinkService.navigateTo(this.initialDestination),this.initialDestination=null):this.initialBookmark?(this.pdfLinkService.setHash(this.initialBookmark),this.pdfHistory.push({hash:this.initialBookmark},!0),this.initialBookmark=null):a?this.pdfLinkService.setHash(a):e&&(this.pdfViewer.currentScaleValue=e,this.page=1);this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=y.DEFAULT_SCALE_VALUE)},cleanup:function(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==y.RendererType.SVG&&this.pdfDocument.cleanup())},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){var a=this;if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var b=this.pdfViewer.getPagesOverview();this.printService=b=N.instance.createPrintService(this.pdfDocument,b,this.appConfig.printContainer,this.l10n);this.forceRendering();b.layout()}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then(function(a){window.alert(a)});else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then(function(b){a.error(b)})},afterPrint:function(){this.printService&&(this.printService.destroy(),this.printService=null);this.forceRendering()},rotatePages:function(a){if(this.pdfDocument){var b=this.pdfViewer,e=this.pdfThumbnailViewer,c=b.currentPageNumber;a=(b.pagesRotation+360+a)%360;b.pagesRotation=a;e.pagesRotation=a;this.forceRendering();b.currentPageNumber=c}},requestPresentationMode:function(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function(){var f=this.eventBus,g=this._boundEvents;g.beforePrint=this.beforePrint.bind(this);g.afterPrint=this.afterPrint.bind(this);f.on("resize",A);f.on("hashchange",x);f.on("beforeprint",g.beforePrint);f.on("afterprint",g.afterPrint);f.on("pagerendered",d);f.on("textlayerrendered",c);f.on("updateviewarea",r);f.on("pagechanging",aa);f.on("scalechanging",Z);f.on("sidebarviewchanged",l);f.on("pagemode",b);f.on("namedaction",a);f.on("presentationmodechanged",e);f.on("presentationmode",t);f.on("openfile",p);f.on("print",v);f.on("download",C);f.on("firstpage",G);f.on("lastpage",w);f.on("nextpage",B);f.on("previouspage",z);f.on("zoomin",Q);f.on("zoomout",I);f.on("pagenumberchanged",F);f.on("scalechanged",P);f.on("rotatecw",J);f.on("rotateccw",R);f.on("documentproperties",W);f.on("find",X);f.on("findfromurlhash",Y);f.on("fileinputchange",O)},bindWindowEvents:function(){var a=this.eventBus,b=this._boundEvents;b.windowResize=function(){a.dispatch("resize")};b.windowHashChange=function(){a.dispatch("hashchange",{hash:document.location.hash.substring(1)})};b.windowBeforePrint=function(){a.dispatch("beforeprint")};b.windowAfterPrint=function(){a.dispatch("afterprint")};window.addEventListener("wheel",ba);window.addEventListener("click",da);window.addEventListener("keydown",ea);window.addEventListener("resize",b.windowResize);window.addEventListener("hashchange",b.windowHashChange);window.addEventListener("beforeprint",b.windowBeforePrint);window.addEventListener("afterprint",b.windowAfterPrint);b.windowChange=function(b){var e=b.target.files;e&&0!==e.length&&a.dispatch("fileinputchange",{fileInput:b.target})};window.addEventListener("change",b.windowChange)},unbindEvents:function(){var f=this.eventBus,g=this._boundEvents;f.off("resize",A);f.off("hashchange",x);f.off("beforeprint",g.beforePrint);f.off("afterprint",g.afterPrint);f.off("pagerendered",d);f.off("textlayerrendered",c);f.off("updateviewarea",r);f.off("pagechanging",aa);f.off("scalechanging",Z);f.off("sidebarviewchanged",l);f.off("pagemode",b);f.off("namedaction",a);f.off("presentationmodechanged",e);f.off("presentationmode",t);f.off("openfile",p);f.off("print",v);f.off("download",C);f.off("firstpage",G);f.off("lastpage",w);f.off("nextpage",B);f.off("previouspage",z);f.off("zoomin",Q);f.off("zoomout",I);f.off("pagenumberchanged",F);f.off("scalechanged",P);f.off("rotatecw",J);f.off("rotateccw",R);f.off("documentproperties",W);f.off("find",X);f.off("findfromurlhash",Y);f.off("fileinputchange",O);g.beforePrint=null;g.afterPrint=null},unbindWindowEvents:function(){var a=this._boundEvents;window.removeEventListener("wheel",ba);window.removeEventListener("click",da);window.removeEventListener("keydown",ea);window.removeEventListener("resize",a.windowResize);window.removeEventListener("hashchange",a.windowHashChange);window.removeEventListener("beforeprint",a.windowBeforePrint);window.removeEventListener("afterprint",a.windowAfterPrint);window.removeEventListener("change",a.windowChange);a.windowChange=null;a.windowResize=null;a.windowHashChange=null;a.windowBeforePrint=null;a.windowAfterPrint=null}},T=void 0,xa=["null","http://mozilla.github.io","https://mozilla.github.io"],T=function(a){if(void 0!==a)try{var b=(new URL(window.location.href)).origin||"null";if(!(0<=xa.indexOf(b))&&(new URL(a,window.location.href)).origin!==b)throw Error("file origin does not match viewer's");}catch(K){var e=K&&K.message;n.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){n.error(a,{message:e})});throw K;}},U=void 0,U=function(a){if(a&&0===a.lastIndexOf("file:",0)){n.setTitleUsingUrl(a);var b=new XMLHttpRequest;b.onload=function(){n.open(new Uint8Array(b.response))};try{b.open("GET",a),b.responseType="arraybuffer",b.send()}catch(S){n.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){n.error(a,S)})}}else a&&n.open(a)},O=void 0,O=function(a){a=a.fileInput.files[0];if(!u.PDFJS.disableCreateObjectURL&&URL.createObjectURL)n.open(URL.createObjectURL(a));else{var b=new FileReader;b.onload=function(a){n.open(new Uint8Array(a.target.result))};b.readAsArrayBuffer(a)}n.setTitleUsingUrl(a.name);a=n.appConfig;a.toolbar.viewBookmark.setAttribute("hidden","true");a.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");a.toolbar.download.setAttribute("hidden","true");a.secondaryToolbar.downloadButton.setAttribute("hidden","true")},L=!1,ca=void 0,N={instance:{supportsPrinting:!1,createPrintService:function(){throw Error("Not implemented: createPrintService");}}};g.PDFViewerApplication=n;g.DefaultExternalServices=m;g.PDFPrintServiceFactory=N},function(m,g,h){function q(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function k(a){if(!(a instanceof Array))return!1;var b=a.length,c=!0;if(2>b)return!1;var d=a[0];if(!("object"===("undefined"===typeof d?"undefined":f(d))&&"number"===typeof d.num&&(d.num|0)===d.num&&"number"===typeof d.gen&&(d.gen|0)===d.gen||"number"===typeof d&&(d|0)===d&&0<=d))return!1;d=a[1];if("object"!==("undefined"===typeof d?"undefined":f(d))||"string"!==typeof d.name)return!1;switch(d.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==b)return!1;break;case "FitR":if(6!==b)return!1;c=!1;break;default:return!1}for(d=2;d<b;d++){var g=a[d];if(!("number"===typeof g||c&&null===g))return!1}return!0}Object.defineProperty(g,"__esModule",{value:!0});g.SimpleLinkService=g.PDFLinkService=void 0;var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(){function a(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=h(2),b=h(0);m=function(){function a(){var b=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;q(this,a);this.eventBus=b||(0,c.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}d(a,[{key:"setDocument",value:function(a,b){this.baseUrl=b;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var b=this,c=function x(c){var e=c.namedDest,l=c.explicitDest,d=l[0];c=void 0;if(d instanceof Object){if(c=b._cachedPageNumber(d),null===c){b.pdfDocument.getPageIndex(d).then(function(a){b.cachePageRef(a+1,d);x({namedDest:e,explicitDest:l})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid page reference, for dest\x3d"'+a+'".'))});return}}else if((d|0)===d)c=d+1;else{console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid destination reference, for dest\x3d"'+a+'".'));return}!c||1>c||c>b.pagesCount?console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid page number, for dest\x3d"'+a+'".')):(b.pdfViewer.scrollPageIntoView({pageNumber:c,destArray:l}),b.pdfHistory&&b.pdfHistory.push({dest:l,hash:e,page:c}))};(new Promise(function(c,e){"string"===typeof a?b.pdfDocument.getDestination(a).then(function(b){c({namedDest:a,explicitDest:b})}):c({namedDest:"",explicitDest:a})})).then(function(b){b.explicitDest instanceof Array?c(b):console.error('PDFLinkService.navigateTo: "'+b.explicitDest+'" is'+(' not a valid destination array, for dest\x3d"'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,e=void 0;if(0<=a.indexOf("\x3d"))if(a=(0,b.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.pdfHistory&&this.pdfHistory.updateNextHashParam(a.nameddest),this.navigateTo(a.nameddest);else{"page"in a&&(c=a.page|0||1);if("zoom"in a){var d=a.zoom.split(","),f=d[0],g=parseFloat(f);-1===f.indexOf("Fit")?e=[null,{name:"XYZ"},1<d.length?d[1]|0:null,2<d.length?d[2]|0:null,g?g/100:f]:"Fit"===f||"FitB"===f?e=[null,{name:f}]:"FitH"===f||"FitBH"===f||"FitV"===f||"FitBV"===f?e=[null,{name:f},1<d.length?d[1]|0:null]:"FitR"===f?5!==d.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):e=[null,{name:f},d[1]|0,d[2]|0,d[3]|0,d[4]|0]:console.error('PDFLinkService.setHash: "'+f+'" is not a valid zoom value.')}e?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:e,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{/^\d+$/.test(a)&&a<=this.pagesCount&&(console.warn("PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, "+('please use the "#page\x3d'+a+'" form instead.')),this.page=a|0);e=unescape(a);try{e=JSON.parse(e),e instanceof Array||(e=e.toString())}catch(p){}"string"===typeof e||k(e)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(e),this.navigateTo(e)):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}}]);return a}();h=function(){function a(){q(this,a)}d(a,[{key:"navigateTo",value:function(a){}},{key:"getDestinationHash",value:function(a){return"#"}},{key:"getAnchorUrl",value:function(a){return"#"}},{key:"setHash",value:function(a){}},{key:"executeNamedAction",value:function(a){}},{key:"onFileAttachmentAnnotation",value:function(a){}},{key:"cachePageRef",value:function(a,b){}},{key:"page",get:function(){return 0},set:function(a){}}]);return a}();g.PDFLinkService=m;g.SimpleLinkService=h},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFCursorTools=g.CursorTool=void 0;var q=function(){return function(c,b){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var a=[],e=!0,d=!1,f=void 0;try{for(var g=c[Symbol.iterator](),h;!(e=(h=g.next()).done)&&(a.push(h.value),!b||a.length!==b);e=!0);}catch(t){d=!0,f=t}finally{try{if(!e&&g["return"])g["return"]()}finally{if(d)throw f;}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),k=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),f=h(14),d={SELECT:0,HAND:1,ZOOM:2};m=function(){function c(b){var a=this,e=b.container,l=b.eventBus,r=b.preferences;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.container=e;this.eventBus=l;this.active=d.SELECT;this.activeBeforePresentationMode=null;this.handTool=new f.GrabToPan({element:this.container});this._addEventListeners();Promise.all([r.get("cursorToolOnLoad"),r.get("enableHandToolOnLoad")]).then(function(b){b=q(b,2);var c=b[0];!0===b[1]&&(r.set("enableHandToolOnLoad",!1),c===d.SELECT&&(c=d.HAND,r.set("cursorToolOnLoad",c).catch(function(){})));a.switchTool(c)}).catch(function(){})}k(c,[{key:"switchTool",value:function(b){var a=this;if(null===this.activeBeforePresentationMode&&b!==this.active){var c=function(){switch(a.active){case d.HAND:a.handTool.deactivate()}};switch(b){case d.SELECT:c();break;case d.HAND:c();this.handTool.activate();break;default:console.error('switchTool: "'+b+'" is an unsupported value.');return}this.active=b;this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var b=this;this.eventBus.on("switchcursortool",function(a){b.switchTool(a.tool)});this.eventBus.on("presentationmodechanged",function(a){a.switchInProgress||(a.active?(a=b.active,b.switchTool(d.SELECT),b.activeBeforePresentationMode=a):(a=b.activeBeforePresentationMode,b.activeBeforePresentationMode=null,b.switchTool(a)))})}},{key:"activeTool",get:function(){return this.active}}]);return c}();g.CursorTool=d;g.PDFCursorTools=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFFindController=g.FindState=void 0;var q=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),k=h(1),f=h(0),d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},c={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};m=function(){function b(a){a=a.pdfViewer;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.pdfViewer=a;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(c).join("");this.normalizationRegex=new RegExp("["+a+"]","g")}q(b,[{key:"reset",value:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(b){a.resolveFirstPage=b})}},{key:"normalize",value:function(a){return a.replace(this.normalizationRegex,function(a){return c[a]})}},{key:"_prepareMatches",value:function(a,b,c){function e(a,b){var c=a[b],e=a[b+1];if(b<a.length-1&&c.match===e.match)return c.skipped=!0;for(--b;0<=b;b--)if(e=a[b],!e.skipped){if(e.match+e.matchLength<c.match)break;if(e.match+e.matchLength>=c.match+c.matchLength)return c.skipped=!0}return!1}a.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var d=0,l=a.length;d<l;d++)e(a,d)||(b.push(a[d].match),c.push(a[d].matchLength))}},{key:"calcFindPhraseMatch",value:function(a,b,c){for(var e=[],d=a.length,l=-d;;){l=c.indexOf(a,l+d);if(-1===l)break;e.push(l)}this.pageMatches[b]=e}},{key:"calcFindWordMatch",value:function(a,b,c){var e=[];a=a.match(/\S+/g);for(var d=0,l=a.length;d<l;d++)for(var f=a[d],p=f.length,g=-p;;){g=c.indexOf(f,g+p);if(-1===g)break;e.push({match:g,matchLength:p,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[b]=[];this.pageMatches[b]=[];this._prepareMatches(e,this.pageMatches[b],this.pageMatchesLength[b])}},{key:"calcFindMatch",value:function(a){var b=this.normalize(this.pageContents[a]),c=this.normalize(this.state.query),d=this.state.phraseSearch;0!==c.length&&(this.state.caseSensitive||(b=b.toLowerCase(),c=c.toLowerCase()),d?this.calcFindPhraseMatch(c,a,b):this.calcFindWordMatch(c,a,b),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length&&(this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()))}},{key:"extractText",value:function(){var a=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var b=Promise.resolve(),c=function(c,e){var d=(0,k.createPromiseCapability)();a.extractTextPromises[c]=d.promise;b=b.then(function(){return a.pdfViewer.getPageTextContent(c).then(function(b){b=b.items;for(var e=[],l=0,f=b.length;l<f;l++)e.push(b[l].str);a.pageContents[c]=e.join("");d.resolve(c)},function(b){console.error("Unable to get page "+(c+1)+" text content",b);a.pageContents[c]="";d.resolve(c)})})},d=0,f=this.pdfViewer.pagesCount;d<f;d++)c(d,f)}}},{key:"executeCommand",value:function(a,b){var c=this;if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=b;this.updateUIState(d.PENDING);this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);"find"===a?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})}},{key:"updatePage",value:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var a=this,b=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,f=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=c,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null,c=0;c<f;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(b){delete a.pendingFindMatches[b];a.calcFindMatch(b)}));if(""===this.state.query)this.updateUIState(d.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=f;if(null!==c.matchIdx){f=this.pageMatches[c.pageIdx].length;if(!b&&c.matchIdx+1<f||b&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=b?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}}},{key:"matchesReady",value:function(a){var b=this.offset;a=a.length;var c=this.state.findPrevious;if(a)return this.hadMatch=!0,b.matchIdx=c?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return b.wrapped&&(b.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(a,b,c,d){this.selected.matchIdx===b&&this.selected.pageIdx===a&&(0,f.scrollIntoView)(c[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var a;do{var b=this.offset.pageIdx;a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))}},{key:"advanceOffsetPage",value:function(a){var b=this.offset,c=this.extractTextPromises.length;b.pageIdx=a?b.pageIdx-1:b.pageIdx+1;b.matchIdx=null;this.pagesToSearch--;if(b.pageIdx>=c||0>b.pageIdx)b.pageIdx=a?c-1:0,b.wrapped=!0}},{key:"updateMatch",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=d.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,b=c?d.WRAPPED:d.FOUND,-1!==a&&a!==this.selected.pageIdx&&this.updatePage(a));this.updateUIState(b,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(a,b){if(this.onUpdateState)this.onUpdateState(a,b,this.matchCount)}}]);return b}();g.FindState=d;g.PDFFindController=m},function(m,g,h){function q(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(g,"__esModule",{value:!0});g.GenericCom=void 0;var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();m=h(4);var f=h(28),d=h(12),c=h(13),b=h(1),a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}q(b,a);k(b,[{key:"_writeToStorage",value:function(a){return new Promise(function(b){localStorage.setItem("pdfjs.preferences",JSON.stringify(a));b()})}},{key:"_readFromStorage",value:function(a){return new Promise(function(a){var b=JSON.parse(localStorage.getItem("pdfjs.preferences"));a(b)})}}]);return b}(f.BasePreferences);h=Object.create(m.DefaultExternalServices);h.createDownloadManager=function(){return new d.DownloadManager};h.createPreferences=function(){return new a};h.createL10n=function(){return new c.GenericL10n(b.PDFJS.locale)};m.PDFViewerApplication.externalServices=h;g.GenericCom={}},function(m,g,h){function q(b,c,e,d){b=r.scratchCanvas;var l=150/72;b.width=Math.floor(d.width*l);b.height=Math.floor(d.height*l);var f=Math.floor(d.width*a.CSS_UNITS)+"px",g=Math.floor(d.height*a.CSS_UNITS)+"px",p=b.getContext("2d");p.save();p.fillStyle="rgb(255, 255, 255)";p.fillRect(0,0,b.width,b.height);p.restore();return c.getPage(e).then(function(a){var b={canvasContext:p,transform:[l,0,0,l,0,0],viewport:a.getViewport(1,d.rotation),intent:"print"};return a.render(b).promise}).then(function(){return{width:f,height:g}})}function k(b,c,e,d){this.pdfDocument=b;this.pagesOverview=c;this.printContainer=e;this.l10n=d||a.NullL10n;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}function f(a){var b=document.createEvent("CustomEvent");b.initCustomEvent(a,!1,!1,"custom");window.dispatchEvent(b)}function d(){r&&(r.destroy(),f("afterprint"))}function c(a,b,c){var e=document.getElementById("printServiceOverlay");a=Math.round(100*a/b);b=e.querySelector("progress");var d=e.querySelector(".relative-progress");b.value=a;c.get("print_progress_percent",{progress:a},a+"%").then(function(a){d.textContent=a})}function b(){if(!p){A=e.PDFViewerApplication.overlayManager;if(!A)throw Error("The overlay manager has not yet been initialized.");p=A.register("printServiceOverlay",document.getElementById("printServiceOverlay"),d,!0);document.getElementById("printCancel").onclick=d}return p}Object.defineProperty(g,"__esModule",{value:!0});g.PDFPrintService=void 0;var a=h(0),e=h(4),l=h(1),r=null,A=null;k.prototype={layout:function(){this.throwIfInactive();var a=document.querySelector("body");a.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every(function(a){return a.width===this.pagesOverview[0].width&&a.height===this.pagesOverview[0].height},this)||console.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");var b=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+b.width+"pt "+b.height+"pt;}}";a.appendChild(this.pageStyleSheet)},destroy:function(){r===this&&(this.printContainer.textContent="",this.pageStyleSheet&&this.pageStyleSheet.parentNode&&(this.pageStyleSheet.parentNode.removeChild(this.pageStyleSheet),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,r=this.scratchCanvas=null,b().then(function(){"printServiceOverlay"===A.active&&A.close("printServiceOverlay")}))},renderPages:function(){var a=this,b=this.pagesOverview.length;return new Promise(function w(e,d){a.throwIfInactive();if(++a.currentPage>=b)c(b,b,a.l10n),e();else{var l=a.currentPage;c(l,b,a.l10n);q(a,a.pdfDocument,l+1,a.pagesOverview[l]).then(a.useRenderedPage.bind(a)).then(function(){w(e,d)},d)}})},useRenderedPage:function(a){this.throwIfInactive();var b=document.createElement("img");b.style.width=a.width;b.style.height=a.height;a=this.scratchCanvas;"toBlob"in a&&!l.PDFJS.disableCreateObjectURL?a.toBlob(function(a){b.src=URL.createObjectURL(a)}):b.src=a.toDataURL();a=document.createElement("div");a.appendChild(b);this.printContainer.appendChild(a);return new Promise(function(a,c){b.onload=a;b.onerror=c})},performPrint:function(){var a=this;this.throwIfInactive();return new Promise(function(b){setTimeout(function(){a.active?(x.call(window),setTimeout(b,20)):b()},0)})},get active(){return this===r},throwIfInactive:function(){if(!this.active)throw Error("This print request was cancelled or completed.");}};var x=window.print;window.print=function(){if(r)console.warn("Ignored window.print() because of a pending print job.");else{b().then(function(){r&&A.open("printServiceOverlay")});try{f("beforeprint")}finally{if(!r){console.error("Expected print service to be initialized.");b().then(function(){"printServiceOverlay"===A.active&&A.close("printServiceOverlay")});return}var a=r;r.renderPages().then(function(){return a.performPrint()}).catch(function(){}).then(function(){a.active&&d()})}}};var t=!!document.attachEvent;window.addEventListener("keydown",function(a){80!==a.keyCode||!a.ctrlKey&&!a.metaKey||a.altKey||a.shiftKey&&!window.chrome&&!window.opera||(window.print(),t||(a.preventDefault(),a.stopImmediatePropagation?a.stopImmediatePropagation():a.stopPropagation()))},!0);t&&document.attachEvent("onkeydown",function(a){a=a||window.event;if(80===a.keyCode&&a.ctrlKey)return a.keyCode=0,!1});"onbeforeprint"in window&&(m=function(a){"custom"!==a.detail&&a.stopImmediatePropagation&&a.stopImmediatePropagation()},window.addEventListener("beforeprint",m),window.addEventListener("afterprint",m));var p;e.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function(a,b,c,e){if(r)throw Error("The print service is created and active.");return r=new k(a,b,c,e)}};g.PDFPrintService=k},function(m,g,h){document.webL10n=function(g,h,f){function d(){var a=h.querySelector('script[type\x3d"application/l10n"]');return a?JSON.parse(a.innerHTML):null}function c(a){var b=h.createEvent("Event");b.initEvent("localized",!0,!1);b.language=a;h.dispatchEvent(b)}function b(a,b,c){b=b||function(a){};c=c||function(){};var e=new XMLHttpRequest;e.open("GET",a,!0);e.overrideMimeType&&e.overrideMimeType("text/plain; charset\x3dutf-8");e.onreadystatechange=function(){4==e.readyState&&(200==e.status||0===e.status?b(e.responseText):c())};e.onerror=c;e.ontimeout=c;try{e.send(null)}catch(I){c()}}function a(a,c,e,d){function l(a,e){function d(a,b,e){function d(){for(;;){if(!w.length){e();break}var a=w.shift();if(!r.test(a)){if(b){if(t=h.exec(a)){k=t[1].toLowerCase();x="*"!==k&&k!==c&&k!==A;continue}else if(x)continue;if(t=v.exec(a)){l(f+t[1],d);break}}var p=a.match(F);p&&3==p.length&&(a=p[1],p=p[2],p=0>p.lastIndexOf("\\")?p:p.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),g[a]=p)}}}var w=a.replace(p,"").split(/[\r\n]+/),k="*",A=c.split("-",1)[0],x=!1,t="";d()}function l(a,c){b(a,function(a){d(a,!1,c)},function(){console.warn(a+" not found.");c()})}var g={},p=/^\s*|\s*$/,r=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,v=/^\s*@import\s+url\((.*)\)\s*$/i,F=/^([^=\s]*)\s*=\s*(.+)$/;d(a,!0,function(){e(g)})}var f=a.replace(/[^\/]*$/,"")||"./";b(a,function(a){p+=a;l(a,function(a){for(var b in a){var c,d;d=b.lastIndexOf(".");0<d?(c=b.substring(0,d),d=b.substr(d+1)):(c=b,d="textContent");t[c]||(t[c]={});t[c][d]=a[b]}e&&e()})},d)}function e(b,e){function l(b){var c=b.href;this.load=function(b,e){a(c,b,e,function(){console.warn(c+" not found.");console.warn('"'+b+'" resource not found');v="";e()})}}b&&(b=b.toLowerCase());e=e||function(){};t={};v=p="";v=b;var f=h.querySelectorAll('link[type\x3d"application/l10n"]'),g=f.length;if(0===g){if((f=d())&&f.locales&&f.default_locale){console.log("using the embedded JSON directory, early way out");t=f.locales[b];if(!t){var r=f.default_locale.toLowerCase(),k;for(k in f.locales)if(k=k.toLowerCase(),k===b){t=f.locales[b];break}else k===r&&(t=f.locales[r])}e()}else console.log("no resource to load, early way out");c(b);m="complete"}else{k=null;var w=0;k=function(){w++;w>=g&&(e(),c(b),m="complete")};for(r=0;r<g;r++)(new l(f[r])).load(b,k)}}function l(a){function b(a,b){return-1!==b.indexOf(a)}function c(a,b,c){return b<=a&&a<=c}var e={0:function(a){return"other"},1:function(a){return c(a%100,3,10)?"few":0===a?"zero":c(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return c(a,0,1)?"one":"other"},5:function(a){return c(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return c(a,3,6)?"few":c(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&c(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return c(a%10,2,9)&&!c(a%100,11,19)?"few":1!=a%10||c(a%100,11,19)?"other":"one"},11:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":0===a%10||c(a%10,5,9)||c(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return c(a,2,4)?"few":1==a?"one":"other"},13:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":1!=a&&c(a%10,0,1)||c(a%10,5,9)||c(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return c(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||c(a%100,2,10)?"few":c(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":c(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return c(a,2,10)?"few":c(a,0,1)?"one":"other"},20:function(a){return!c(a%10,3,4)&&9!=a%10||c(a%100,10,19)||c(a%100,70,79)||c(a%100,90,99)?0===a%1E6&&0!==a?"many":2!=a%10||b(a%100,[12,72,92])?1!=a%10||b(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return c(a,0,1)||c(a,11,99)?"one":"other"},23:function(a){return c(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return c(a,3,10)||c(a,13,19)?"few":b(a,[2,12])?"two":b(a,[1,11])?"one":"other"}},d={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return d in e?e[d]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}function r(a,b,c){var e=t[a];if(!e){console.warn("#"+a+" is undefined.");if(!c)return null;e=c}c={};for(var d in e){var l=e[d];var f=b,p=a,g=d,r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(l);if(r&&r.length){var h=r[1],r=r[2],v=void 0;f&&r in f?v=f[r]:r in t&&(v=t[r]);h in C&&(l=(0,C[h])(l,v,p,g))}l=k(l,b,a);c[d]=l}return c}function k(a,b,c){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,e){if(b&&e in b)return b[e];if(e in t)return t[e];console.log("argument {{"+e+"}} for #"+c+" is undefined.");return a})}function x(a){var b,c;if(a){b=a.getAttribute("data-l10n-id");var e=a.getAttribute("data-l10n-args");c={};if(e)try{c=JSON.parse(e)}catch(J){console.warn("could not parse arguments for #"+b)}}else c=b=void 0;if(b)if(c=r(b,c)){if(c.textContent){if(a.children)b=a.children.length;else if("undefined"!==typeof a.childElementCount)b=a.childElementCount;else for(e=b=0;e<a.childNodes.length;e++)b+=1===a.nodeType?1:0;if(0===b)a.textContent=c.textContent;else{b=a.childNodes;for(var e=!1,d=0,l=b.length;d<l;d++)3===b[d].nodeType&&/\S/.test(b[d].nodeValue)&&(e?b[d].nodeValue="":(b[d].nodeValue=c.textContent,e=!0));e||(b=h.createTextNode(c.textContent),a.insertBefore(b,a.firstChild))}delete c.textContent}for(var f in c)a[f]=c[f]}else console.warn("#"+b+" is undefined.")}var t={},p="",v="",C={},m="loading";C.plural=function(a,b,c,e){b=parseFloat(b);if(isNaN(b)||"textContent"!=e)return a;C._pluralRules||(C._pluralRules=l(v));var d="["+C._pluralRules(b)+"]";0===b&&c+"[zero]"in t?a=t[c+"[zero]"][e]:1==b&&c+"[one]"in t?a=t[c+"[one]"][e]:2==b&&c+"[two]"in t?a=t[c+"[two]"][e]:c+d in t?a=t[c+d][e]:c+"[other]"in t&&(a=t[c+"[other]"][e]);return a};return{get:function(a,b,c){var e=a.lastIndexOf("."),d="textContent";0<e&&(d=a.substr(e+1),a=a.substring(0,e));var l;c&&(l={},l[d]=c);return(b=r(a,b,l))&&d in b?b[d]:"{{"+a+"}}"},getData:function(){return t},getText:function(){return p},getLanguage:function(){return v},setLanguage:function(a,b){e(a,function(){b&&b()})},getDirection:function(){var a=v.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?"rtl":"ltr"},translate:function(a){for(var b=(a=a||h.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],c=b.length,e=0;e<c;e++)x(b[e]);x(a)},getReadyState:function(){return m},ready:function(a){a&&("complete"==m||"interactive"==m?g.setTimeout(function(){a()}):h.addEventListener&&h.addEventListener("localized",function z(){h.removeEventListener("localized",z);a()}))}}}(window,document)},function(m,g,h){function q(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(g,"__esModule",{value:!0});g.DefaultAnnotationLayerFactory=g.AnnotationLayerBuilder=void 0;var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=h(1),d=h(0),c=h(5),b=function(){function a(b){var c=b.pageDiv,e=b.pdfPage,f=b.linkService,g=b.downloadManager,h=b.renderInteractiveForms,h=void 0===h?!1:h;b=b.l10n;b=void 0===b?d.NullL10n:b;q(this,a);this.pageDiv=c;this.pdfPage=e;this.linkService=f;this.downloadManager=g;this.renderInteractiveForms=h;this.l10n=b;this.div=null}k(a,[{key:"render",value:function(a){var b=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(c){var e={viewport:a.clone({dontFlip:!0}),div:b.div,annotations:c,page:b.pdfPage,renderInteractiveForms:b.renderInteractiveForms,linkService:b.linkService,downloadManager:b.downloadManager};b.div?f.AnnotationLayer.update(e):0!==c.length&&(b.div=document.createElement("div"),b.div.className="annotationLayer",b.pageDiv.appendChild(b.div),e.div=b.div,f.AnnotationLayer.render(e),b.l10n.translate(b.div))})}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return a}();m=function(){function a(){q(this,a)}k(a,[{key:"createAnnotationLayerBuilder",value:function(a,l){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:d.NullL10n;return new b({pageDiv:a,pdfPage:l,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new c.SimpleLinkService,l10n:e})}}]);return a}();g.AnnotationLayerBuilder=b;g.DefaultAnnotationLayerFactory=m},function(m,g,h){function q(d,c){var b=document.createElement("a");b.click?(b.href=d,b.target="_parent","download"in b&&(b.download=c),(document.body||document.documentElement).appendChild(b),b.click(),b.parentNode.removeChild(b)):(window.top===window&&d.split("#")[0]===window.location.href.split("#")[0]&&(c=-1===d.indexOf("?")?"?":"\x26",d=d.replace(/#|$/,c+"$\x26")),window.open(d,"_parent"))}Object.defineProperty(g,"__esModule",{value:!0});g.DownloadManager=void 0;var k=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),f=h(1);m=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");}k(d,[{key:"downloadUrl",value:function(c,b){(0,f.createValidAbsoluteUrl)(c,"http://example.com")&&q(c+"#pdfjs.action\x3ddownload",b)}},{key:"downloadData",value:function(c,b,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([c],{type:a}),b);c=(0,f.createObjectURL)(c,a,f.PDFJS.disableCreateObjectURL);q(c,b)}},{key:"download",value:function(c,b,a){navigator.msSaveBlob?navigator.msSaveBlob(c,a)||this.downloadUrl(b,a):f.PDFJS.disableCreateObjectURL?this.downloadUrl(b,a):(c=URL.createObjectURL(c),q(c,a))}}]);return d}();g.DownloadManager=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.GenericL10n=void 0;var q=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}();h(10);var k=document.webL10n;m=function(){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._lang=d;this._ready=new Promise(function(c,b){k.setLanguage(d,function(){c(k)})})}q(f,[{key:"getDirection",value:function(){return this._ready.then(function(d){return d.getDirection()})}},{key:"get",value:function(d,c,b){return this._ready.then(function(a){return a.get(d,c,b)})}},{key:"translate",value:function(d){return this._ready.then(function(c){return c.translate(d)})}}]);return f}();g.GenericL10n=m},function(m,g,h){function q(b){this.element=b.element;this.document=b.element.ownerDocument;"function"===typeof b.ignoreTarget&&(this.ignoreTarget=b.ignoreTarget);this.onActiveChanged=b.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}Object.defineProperty(g,"__esModule",{value:!0});q.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(b){return b[k]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(b){if(0===b.button&&!this.ignoreTarget(b.target)){if(b.originalTarget)try{b.originalTarget.tagName}catch(e){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=b.clientX;this.clientYStart=b.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);b.preventDefault();b.stopPropagation();var a=document.activeElement;a&&!a.contains(b.target)&&a.blur()}},_onmousemove:function(b){this.element.removeEventListener("scroll",this._endPan,!0);var a;a="buttons"in b&&f?!(b.buttons&1):d||c?0===b.which:void 0;a?this._endPan():(a=this.scrollTopStart-(b.clientY-this.clientYStart),b=this.scrollLeftStart-(b.clientX-this.clientXStart),this.element.scrollTo?this.element.scrollTo({top:a,left:b,behavior:"instant"}):(this.element.scrollTop=a,this.element.scrollLeft=b),this.overlay.parentNode||document.body.appendChild(this.overlay))},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}};var k;["webkitM","mozM","msM","oM","m"].some(function(b){b+="atches";b in document.documentElement&&(k=b);b+="Selector";b in document.documentElement&&(k=b);return k});var f=!document.documentMode||9<document.documentMode,d=(m=window.chrome)&&(m.webstore||m.app),c=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);g.GrabToPan=q},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});var q=function(){function g(f,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(f,d,c){d&&g(f.prototype,d);c&&g(f,c);return f}}();m=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._overlays={};this._active=null;this._keyDownBound=this._keyDown.bind(this)}q(g,[{key:"register",value:function(f,d){var c=this,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new Promise(function(e){var l=void 0;if(!f||!d||!(l=d.parentNode))throw Error("Not enough parameters.");if(c._overlays[f])throw Error("The overlay is already registered.");c._overlays[f]={element:d,container:l,callerCloseMethod:b,canForceClose:a};e()})}},{key:"unregister",value:function(f){var d=this;return new Promise(function(c){if(!d._overlays[f])throw Error("The overlay does not exist.");if(d._active===f)throw Error("The overlay cannot be removed while it is active.");delete d._overlays[f];c()})}},{key:"open",value:function(f){var d=this;return new Promise(function(c){if(!d._overlays[f])throw Error("The overlay does not exist.");if(d._active)if(d._overlays[f].canForceClose)d._closeThroughCaller();else{if(d._active===f)throw Error("The overlay is already active.");throw Error("Another overlay is currently active.");}d._active=f;d._overlays[d._active].element.classList.remove("hidden");d._overlays[d._active].container.classList.remove("hidden");window.addEventListener("keydown",d._keyDownBound);c()})}},{key:"close",value:function(f){var d=this;return new Promise(function(c){if(d._overlays[f]){if(!d._active)throw Error("The overlay is currently not active.");if(d._active!==f)throw Error("Another overlay is currently active.");}else throw Error("The overlay does not exist.");d._overlays[d._active].container.classList.add("hidden");d._overlays[d._active].element.classList.add("hidden");d._active=null;window.removeEventListener("keydown",d._keyDownBound);c()})}},{key:"_keyDown",value:function(f){this._active&&27===f.keyCode&&(this._closeThroughCaller(),f.preventDefault())}},{key:"_closeThroughCaller",value:function(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod();this._active&&this.close(this._active)}},{key:"active",get:function(){return this._active}}]);return g}();g.OverlayManager=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PasswordPrompt=void 0;var q=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),k=h(0),f=h(1);m=function(){function d(c,b){var a=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:k.NullL10n;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.overlayName=c.overlayName;this.container=c.container;this.label=c.label;this.input=c.input;this.submitButton=c.submitButton;this.cancelButton=c.cancelButton;this.overlayManager=b;this.l10n=e;this.reason=this.updateCallback=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",function(b){13===b.keyCode&&a.verify()});this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}q(d,[{key:"open",value:function(){var c=this;this.overlayManager.open(this.overlayName).then(function(){c.input.focus();var b=void 0,b=c.reason===f.PasswordResponses.INCORRECT_PASSWORD?c.l10n.get("password_invalid",null,"Invalid password. Please try again."):c.l10n.get("password_label",null,"Enter the password to open this PDF file.");b.then(function(a){c.label.textContent=a})})}},{key:"close",value:function(){var c=this;this.overlayManager.close(this.overlayName).then(function(){c.input.value=""})}},{key:"verify",value:function(){var c=this.input.value;if(c&&0<c.length)return this.close(),this.updateCallback(c)}},{key:"setUpdateCallback",value:function(c,b){this.updateCallback=c;this.reason=b}}]);return d}();g.PasswordPrompt=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFAttachmentViewer=void 0;var q=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),k=h(1);m=function(){function f(d){var c=d.container,b=d.eventBus;d=d.downloadManager;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.attachments=null;this.container=c;this.eventBus=b;this.downloadManager=d;this._renderedCapability=(0,k.createPromiseCapability)();this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}q(f,[{key:"reset",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.attachments=null;this.container.textContent="";d||(this._renderedCapability=(0,k.createPromiseCapability)())}},{key:"_dispatchEvent",value:function(d){this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:d});this._renderedCapability.resolve()}},{key:"_bindPdfLink",value:function(d,c,b){if(k.PDFJS.disableCreateObjectURL)throw Error('bindPdfLink: Unsupported "PDFJS.disableCreateObjectURL" value.');var a=void 0;d.onclick=function(){a||(a=(0,k.createObjectURL)(c,"application/pdf"));var e;e="?file\x3d"+encodeURIComponent(a+"#"+b);window.open(e);return!1}}},{key:"_bindLink",value:function(d,c,b){var a=this;d.onclick=function(){a.downloadManager.downloadData(c,b,"");return!1}}},{key:"render",value:function(d){var c=d.attachments,b=d.keepRenderedCapability;d=0;this.attachments&&this.reset(!0===(void 0===b?!1:b));this.attachments=c||null;if(c){b=Object.keys(c).sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())});d=b.length;for(var a=0;a<d;a++){var e=c[b[a]],l=(0,k.removeNullCharacters)((0,k.getFilenameFromUrl)(e.filename)),f=document.createElement("div");f.className="attachmentsItem";var g=document.createElement("button");g.textContent=l;/\.pdf$/i.test(l)&&!k.PDFJS.disableCreateObjectURL?this._bindPdfLink(g,e.content,l):this._bindLink(g,e.content,l);f.appendChild(g);this.container.appendChild(f)}}this._dispatchEvent(d)}},{key:"_appendAttachment",value:function(d){var c=this,b=d.id,a=d.filename,e=d.content;this._renderedCapability.promise.then(function(){var d=c.attachments;if(d)for(var f in d){if(b===f)return}else d=Object.create(null);d[b]={filename:a,content:e};c.render({attachments:d,keepRenderedCapability:!0})})}}]);return f}();g.PDFAttachmentViewer=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFDocumentProperties=void 0;var q=function(){return function(c,b){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var a=[],e=!0,d=!1,f=void 0;try{for(var g=c[Symbol.iterator](),h;!(e=(h=g.next()).done)&&(a.push(h.value),!b||a.length!==b);e=!0);}catch(t){d=!0,f=t}finally{try{if(!e&&g["return"])g["return"]()}finally{if(d)throw f;}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),k=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),f=h(0),d=h(1);m=function(){function c(b,a){var e=b.overlayName,d=b.fields,g=b.container,h=b.closeButton,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:f.NullL10n;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.overlayName=e;this.fields=d;this.container=g;this.overlayManager=a;this.l10n=k;this._reset();h&&h.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this))}k(c,[{key:"open",value:function(){var b=this,a=function(a){Object.defineProperty(b,"fieldData",{value:Object.freeze(a),writable:!1,enumerable:!0,configurable:!0})};Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){b.fieldData?b._updateUI():b.pdfDocument.getMetadata().then(function(a){var c=a.info;return Promise.all([c,a.metadata,b._parseFileSize(b.maybeFileSize),b._parseDate(c.CreationDate),b._parseDate(c.ModDate)])}).then(function(c){var e=q(c,5);c=e[0];var d=e[2],g=e[3],e=e[4];a({fileName:(0,f.getPDFFileNameFromURL)(b.url),fileSize:d,title:c.Title,author:c.Author,subject:c.Subject,keywords:c.Keywords,creationDate:g,modificationDate:e,creator:c.Creator,producer:c.Producer,version:c.PDFFormatVersion,pageCount:b.pdfDocument.numPages});b._updateUI();return b.pdfDocument.getDownloadInfo()}).then(function(a){return b._parseFileSize(a.length)}).then(function(c){var e=(0,f.cloneObj)(b.fieldData);e.fileSize=c;a(e);b._updateUI()})})}},{key:"close",value:function(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function(b,a){this.pdfDocument&&(this._reset(),this._updateUI(!0));b&&(this.pdfDocument=b,this.url=a,this._dataAvailableCapability.resolve())}},{key:"setFileSize",value:function(b){"number"===typeof b&&0<b&&(this.maybeFileSize=b)}},{key:"_reset",value:function(){this.url=this.pdfDocument=null;this.maybeFileSize=0;delete this.fieldData;this._dataAvailableCapability=(0,d.createPromiseCapability)()}},{key:"_updateUI",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||!this.fieldData)for(var b in this.fields)this.fields[b].textContent="-";else if(this.overlayManager.active===this.overlayName)for(var a in this.fields)b=this.fieldData[a],this.fields[a].textContent=b||0===b?b:"-"}},{key:"_parseFileSize",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=b/1024;return a?1024>a?this.l10n.get("document_properties_kb",{size_kb:(+a.toPrecision(3)).toLocaleString(),size_b:b.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):this.l10n.get("document_properties_mb",{size_mb:(+(a/1024).toPrecision(3)).toLocaleString(),size_b:b.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"):Promise.resolve(void 0)}},{key:"_parseDate",value:function(b){if(b){var a=b;"D:"===a.substring(0,2)&&(a=a.substring(2));b=parseInt(a.substring(0,4),10);var c=parseInt(a.substring(4,6),10)-1,d=parseInt(a.substring(6,8),10),f=parseInt(a.substring(8,10),10),g=parseInt(a.substring(10,12),10),h=parseInt(a.substring(12,14),10),k=a.substring(14,15),p=parseInt(a.substring(15,17),10),a=parseInt(a.substring(18,20),10);"-"===k?(f+=p,g+=a):"+"===k&&(f-=p,g-=a);c=new Date(Date.UTC(b,c,d,f,g,h));b=c.toLocaleDateString();c=c.toLocaleTimeString();return this.l10n.get("document_properties_date_string",{date:b,time:c},"{{date}}, {{time}}")}}}]);return c}();g.PDFDocumentProperties=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFFindBar=void 0;var q=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),k=h(7),f=h(0);m=function(){function d(c){var b=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.NullL10n;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.opened=!1;this.bar=c.bar||null;this.toggleButton=c.toggleButton||null;this.findField=c.findField||null;this.highlightAll=c.highlightAllCheckbox||null;this.caseSensitive=c.caseSensitiveCheckbox||null;this.findMsg=c.findMsg||null;this.findResultsCount=c.findResultsCount||null;this.findStatusIcon=c.findStatusIcon||null;this.findPreviousButton=c.findPreviousButton||null;this.findNextButton=c.findNextButton||null;this.findController=c.findController||null;this.eventBus=c.eventBus;this.l10n=a;if(null===this.findController)throw Error("PDFFindBar cannot be used without a PDFFindController instance.");this.toggleButton.addEventListener("click",function(){b.toggle()});this.findField.addEventListener("input",function(){b.dispatchEvent("")});this.bar.addEventListener("keydown",function(a){switch(a.keyCode){case 13:a.target===b.findField&&b.dispatchEvent("again",a.shiftKey);break;case 27:b.close()}});this.findPreviousButton.addEventListener("click",function(){b.dispatchEvent("again",!0)});this.findNextButton.addEventListener("click",function(){b.dispatchEvent("again",!1)});this.highlightAll.addEventListener("click",function(){b.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",function(){b.dispatchEvent("casesensitivitychange")});this.eventBus.on("resize",this._adjustWidth.bind(this))}q(d,[{key:"reset",value:function(){this.updateUIState()}},{key:"dispatchEvent",value:function(c,b){this.eventBus.dispatch("find",{source:this,type:c,query:this.findField.value,caseSensitive:this.caseSensitive.checked,phraseSearch:!0,highlightAll:this.highlightAll.checked,findPrevious:b})}},{key:"updateUIState",value:function(c,b,a){var e=this,d=!1,f="",g="";switch(c){case k.FindState.PENDING:g="pending";break;case k.FindState.NOT_FOUND:f=this.l10n.get("find_not_found",null,"Phrase not found");d=!0;break;case k.FindState.WRAPPED:f=b?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}d?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound");this.findField.setAttribute("data-status",g);Promise.resolve(f).then(function(a){e.findMsg.textContent=a;e._adjustWidth()});this.updateResultsCount(a)}},{key:"updateResultsCount",value:function(c){this.findResultsCount&&(c?(this.findResultsCount.textContent=c.toLocaleString(),this.findResultsCount.classList.remove("hidden")):(this.findResultsCount.classList.add("hidden"),this.findResultsCount.textContent=""),this._adjustWidth())}},{key:"open",value:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden"));this.findField.select();this.findField.focus();this._adjustWidth()}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.findController.active=!1)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function(){this.opened&&(this.bar.classList.remove("wrapContainers"),this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers"))}}]);return d}();g.PDFFindBar=m},function(m,g,h){function q(f){this.linkService=f.linkService;this.eventBus=f.eventBus||(0,k.getGlobalEventBus)();this.initialized=!1;this.initialBookmark=this.initialDestination=null}Object.defineProperty(g,"__esModule",{value:!0});g.PDFHistory=void 0;var k=h(2);q.prototype={initialize:function(f){function d(){a.previousHash=window.location.hash.slice(1);a._pushToHistory({hash:a.previousHash},!1,!0);a._updatePreviousBookmark()}function c(b,c){function e(){window.removeEventListener("popstate",e);window.addEventListener("popstate",d);a._pushToHistory(b,!1,!0);history.forward()}function d(){window.removeEventListener("popstate",d);a.allowHashChange=!0;a.historyUnlocked=!0;c()}a.historyUnlocked=!1;a.allowHashChange=!1;window.addEventListener("popstate",e);history.back()}function b(){var c=a._getPreviousParams(null,!0);c&&(a._pushToHistory(c,!1,!a.current.dest&&a.current.hash!==a.previousHash),a._updatePreviousBookmark());window.removeEventListener("beforeunload",b)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=f;this.currentUid=this.uid=0;this.current={};f=window.history.state;this._isStateObjectDefined(f)?(f.target.dest?this.initialDestination=f.target.dest:this.initialBookmark=f.target.hash,this.currentUid=f.uid,this.uid=f.uid+1,this.current=f.target):(f&&f.fingerprint&&this.fingerprint!==f.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var a=this;window.addEventListener("popstate",function(b){a.historyUnlocked&&(b.state?a._goTo(b.state):0===a.uid?c(a.previousHash&&a.currentBookmark&&a.previousHash!==a.currentBookmark?{hash:a.currentBookmark,page:a.currentPage}:{page:1},function(){d()}):d())});window.addEventListener("beforeunload",b);window.addEventListener("pageshow",function(a){window.addEventListener("beforeunload",b)});a.eventBus.on("presentationmodechanged",function(b){a.isViewerInPresentationMode=b.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(f){return f&&0<=f.uid&&f.fingerprint&&this.fingerprint===f.fingerprint&&f.target&&f.target.hash?!0:!1},_pushOrReplaceState:function(f,d){d?window.history.replaceState(f,"",document.URL):window.history.pushState(f,"",document.URL)},get isHashChangeUnlocked(){return this.initialized?this.allowHashChange:!0},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(f,d){this.initialized&&(this.currentBookmark=f.substring(1),this.currentPage=d|0,this._updatePreviousBookmark())},updateNextHashParam:function(f){this.initialized&&(this.nextHashParam=f)},push:function(f,d){if(this.initialized&&this.historyUnlocked)if(f.dest&&!f.hash&&(f.hash=this.current.hash&&this.current.dest&&this.current.dest===f.dest?this.current.hash:this.linkService.getDestinationHash(f.dest).split("#")[1]),f.page&&(f.page|=0),d)d=window.history.state.target,d||(this._pushToHistory(f,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,d&&this._updatePreviousBookmark();else{if(this.nextHashParam){if(this.nextHashParam===f.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}f.hash?this.current.hash?this.current.hash!==f.hash?this._pushToHistory(f,!0):(!this.current.page&&f.page&&this._pushToHistory(f,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(f,!0):this.current.page&&f.page&&this.current.page!==f.page&&this._pushToHistory(f,!0)}},_getPreviousParams:function(f,d){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!f||d){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||f){if(this.previousPage===this.currentPage)return null}else return null;f={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(f.hash=null);return f},_stateObj:function(f){return{fingerprint:this.fingerprint,uid:this.uid,target:f}},_pushToHistory:function(f,d,c){this.initialized&&(!f.hash&&f.page&&(f.hash="page\x3d"+f.page),d&&!c&&(d=this._getPreviousParams())&&this._pushToHistory(d,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(f),c||0===this.uid),this.currentUid=this.uid++,this.current=f,this.updatePreviousBookmark=!0)},_goTo:function(f){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(f)){if(!this.reInitialized&&f.uid<this.currentUid){var d=this._getPreviousParams(!0);if(d){this._pushToHistory(this.current,!1);this._pushToHistory(d,!1);this.currentUid=f.uid;window.history.back();return}}this.historyUnlocked=!1;f.target.dest?this.linkService.navigateTo(f.target.dest):this.linkService.setHash(f.target.hash);this.currentUid=f.uid;f.uid>this.uid&&(this.uid=f.uid);this.current=f.target;this.updatePreviousBookmark=!0;f=window.location.hash.substring(1);this.previousHash!==f&&(this.allowHashChange=!1);this.previousHash=f;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(f){if(this.initialized&&this.historyUnlocked){var d=window.history.state;-1===f&&d&&0<d.uid?window.history.back():1===f&&d&&d.uid<this.uid-1&&window.history.forward()}}};g.PDFHistory=q},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFOutlineViewer=void 0;var q=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),k=h(1);m=function(){function f(d){var c=d.container,b=d.linkService;d=d.eventBus;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.outline=null;this.lastToggleIsShow=!0;this.container=c;this.linkService=b;this.eventBus=d}q(f,[{key:"reset",value:function(){this.outline=null;this.lastToggleIsShow=!0;this.container.textContent="";this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function(d){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:d})}},{key:"_bindLink",value:function(d,c){var b=this;if(c.url)(0,k.addLinkAttributes)(d,{url:c.url,target:c.newWindow?k.PDFJS.LinkTarget.BLANK:void 0});else{var a=c.dest;d.href=this.linkService.getDestinationHash(a);d.onclick=function(){a&&b.linkService.navigateTo(a);return!1}}}},{key:"_setStyles",value:function(d,c){var b="";c.bold&&(b+="font-weight: bold;");c.italic&&(b+="font-style: italic;");b&&d.setAttribute("style",b)}},{key:"_addToggleButton",value:function(d){var c=this,b=document.createElement("div");b.className="outlineItemToggler";b.onclick=function(a){a.stopPropagation();b.classList.toggle("outlineItemsHidden");a.shiftKey&&(a=!b.classList.contains("outlineItemsHidden"),c._toggleOutlineItem(d,a))};d.insertBefore(b,d.firstChild)}},{key:"_toggleOutlineItem",value:function(d,c){this.lastToggleIsShow=c;d=d.querySelectorAll(".outlineItemToggler");for(var b=0,a=d.length;b<a;++b)d[b].classList[c?"remove":"add"]("outlineItemsHidden")}},{key:"toggleOutlineTree",value:function(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function(d){var c=d.outline;d=0;this.outline&&this.reset();this.outline=c||null;if(c){for(var c=document.createDocumentFragment(),b=[{parent:c,items:this.outline}],a=!1;0<b.length;)for(var e=b.shift(),f=0,g=e.items.length;f<g;f++){var h=e.items[f],x=document.createElement("div");x.className="outlineItem";var t=document.createElement("a");this._bindLink(t,h);this._setStyles(t,h);t.textContent=(0,k.removeNullCharacters)(h.title)||"\u2013";x.appendChild(t);0<h.items.length&&(a=!0,this._addToggleButton(x),t=document.createElement("div"),t.className="outlineItems",x.appendChild(t),b.push({parent:t,items:h.items}));e.parent.appendChild(x);d++}a&&this.container.classList.add("outlineWithDeepNesting");this.container.appendChild(c)}this._dispatchEvent(d)}}]);return f}();g.PDFOutlineViewer=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFPageView=void 0;var q=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),k=h(0),f=h(1),d=h(2),c=h(3);m=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.container,f=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||k.DEFAULT_SCALE;this.viewport=f;this.pdfPageRotate=f.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.eventBus=a.eventBus||(0,d.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||k.RendererType.CANVAS;this.l10n=a.l10n||k.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=c.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;e.appendChild(a)}q(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*k.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&(this.pdfPage.cleanup(),this.pdfPage=null)}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var d=c.childNodes,a=a&&this.zoomLayer||null,b=b&&this.annotationLayer&&this.annotationLayer.div||null,f=d.length-1;0<=f;f--){var g=d[f];a!==g&&b!==g&&c.removeChild(g)}c.removeAttribute("data-loaded");b?this.annotationLayer.hide():this.annotationLayer=null;a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*k.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<f.PDFJS.maxCanvasPixels&&(b=this.outputScale,(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>f.PDFJS.maxCanvasPixels&&(a=!0));if(this.canvas){if(f.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=c.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)}},{key:"cssTransform",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,d=this.viewport.height,g=this.div;a.style.width=a.parentNode.style.width=g.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=g.style.height=Math.floor(d)+"px";var g=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,h=Math.abs(g),k=1,p=1;if(90===h||270===h)k=d/c,p=c/d;f.CustomStyle.setProp("transform",a,"rotate("+g+"deg) scale("+k+","+p+")");if(this.textLayer){h=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-h.rotation);g=c/h.width;if(90===d||270===d)g=c/h.height;c=this.textLayer.textLayerDiv;k=h=void 0;switch(d){case 0:h=k=0;break;case 90:h=0;k="-"+c.style.height;break;case 180:h="-"+c.style.width;k="-"+c.style.height;break;case 270:h="-"+c.style.width;k=0;break;default:console.error("Bad rotation value.")}f.CustomStyle.setProp("transform",c,"rotate("+d+"deg) scale("+g+", "+g+") translate("+h+", "+k+")");f.CustomStyle.setProp("transformOrigin",c,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,b){return this.viewport.convertToPdfPoint(a,b)}},{key:"draw",value:function(){var a=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=c.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=c.RenderingStates.RUNNING;var b=this.pdfPage,d=this.div,g=document.createElement("div");g.style.width=d.style.width;g.style.height=d.style.height;g.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?d.insertBefore(g,this.annotationLayer.div):d.appendChild(g);var h=null;if(this.textLayerFactory){var m=document.createElement("div");m.className="textLayer";m.style.width=g.style.width;m.style.height=g.style.height;this.annotationLayer&&this.annotationLayer.div?d.insertBefore(m,this.annotationLayer.div):d.appendChild(m);h=this.textLayerFactory.createTextLayerBuilder(m,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=h;m=null;this.renderingQueue&&(m=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=c.RenderingStates.PAUSED,a.resume=function(){a.renderingState=c.RenderingStates.RUNNING;b()})});var t=function(e){p===a.paintTask&&(a.paintTask=null);if("cancelled"===e||e instanceof f.RenderingCancelledException)return a.error=null,Promise.resolve(void 0);a.renderingState=c.RenderingStates.FINISHED;a.loadingIconDiv&&(d.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=e;a.stats=b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return e?Promise.reject(e):Promise.resolve(void 0)},p=this.renderer===k.RendererType.SVG?this.paintOnSvg(g):this.paintOnCanvas(g);p.onRenderContinue=m;this.paintTask=p;g=p.promise.then(function(){return t(null).then(function(){if(h){var a=b.streamTextContent({normalizeWhitespace:!0});h.setTextContentStream(a);h.render()}})},function(a){return t(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,b,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return g}},{key:"paintOnCanvas",value:function(a){var b=(0,f.createPromiseCapability)(),c={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){q.cancel()}},d=this.viewport,g=document.createElement("canvas");g.id=this.renderingId;g.setAttribute("hidden","hidden");var h=!0,m=function(){h&&(g.removeAttribute("hidden"),h=!1)};a.appendChild(g);this.canvas=g;g.mozOpaque=!0;a=g.getContext("2d",{alpha:!1});var p=(0,k.getOutputScale)(a);this.outputScale=p;if(f.PDFJS.useOnlyCssZoom){var v=d.clone({scale:k.CSS_UNITS});p.sx*=v.width/d.width;p.sy*=v.height/d.height;p.scaled=!0}0<f.PDFJS.maxCanvasPixels&&(v=Math.sqrt(f.PDFJS.maxCanvasPixels/(d.width*d.height)),p.sx>v||p.sy>v?(p.sx=v,p.sy=v,this.hasRestrictedScaling=p.scaled=!0):this.hasRestrictedScaling=!1);var v=(0,k.approximateFraction)(p.sx),C=(0,k.approximateFraction)(p.sy);g.width=(0,k.roundToDivide)(d.width*p.sx,v[0]);g.height=(0,k.roundToDivide)(d.height*p.sy,C[0]);g.style.width=(0,k.roundToDivide)(d.width,v[1])+"px";g.style.height=(0,k.roundToDivide)(d.height,C[1])+"px";this.paintedViewportMap.set(g,d);var q=this.pdfPage.render({canvasContext:a,transform:p.scaled?[p.sx,0,0,p.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});q.onContinue=function(a){m();if(c.onRenderContinue)c.onRenderContinue(a);else a()};q.promise.then(function(){m();b.resolve(void 0)},function(a){m();b.reject(a)});return c}},{key:"paintOnSvg",value:function(a){var b=this,d=!1,g=function(){if(d){if(f.PDFJS.pdfjsNext)throw new f.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");throw"cancelled";}},h=this.pdfPage,m=this.viewport.clone({scale:k.CSS_UNITS});return{promise:h.getOperatorList().then(function(e){g();return(new f.SVGGraphics(h.commonObjs,h.objs)).getSVG(e,m).then(function(e){g();b.svg=e;b.paintedViewportMap.set(e,m);e.style.width=a.style.width;e.style.height=a.style.height;b.renderingState=c.RenderingStates.FINISHED;a.appendChild(e)})}),onRenderContinue:function(a){a()},cancel:function(){d=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();g.PDFPageView=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFPresentationMode=void 0;var q=function(){function d(c,b){for(var a=0;a<b.length;a++){var e=b[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),k=h(0),f=Math.PI/6;m=function(){function d(c){var b=this,a=c.container,e=c.viewer,e=void 0===e?null:e,f=c.pdfViewer,g=c.eventBus;c=c.contextMenuItems;c=void 0===c?null:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.container=a;this.viewer=e||a.firstElementChild;this.pdfViewer=f;this.eventBus=g;this.active=!1;this.args=null;this.contextMenuOpen=!1;this.mouseScrollDelta=this.mouseScrollTimeStamp=0;this.touchSwipeState=null;c&&(c.contextFirstPage.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("firstpage")}),c.contextLastPage.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("lastpage")}),c.contextPageRotateCw.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("rotatecw")}),c.contextPageRotateCcw.addEventListener("click",function(){b.contextMenuOpen=!1;b.eventBus.dispatch("rotateccw")}))}q(d,[{key:"request",value:function(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes())return!1;this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if(this.container.msRequestFullscreen)this.container.msRequestFullscreen();else return!1;this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return!0}},{key:"_mouseWheel",value:function(c){if(this.active){c.preventDefault();var b=(0,k.normalizeWheelEventDelta)(c);c=(new Date).getTime();var a=this.mouseScrollTimeStamp;!(c>a&&50>c-a)&&((0<this.mouseScrollDelta&&0>b||0>this.mouseScrollDelta&&0<b)&&this._resetMouseScrollState(),this.mouseScrollDelta+=b,.1<=Math.abs(this.mouseScrollDelta)&&(b=this.mouseScrollDelta,this._resetMouseScrollState(),0<b?this._goToPreviousPage():this._goToNextPage()))&&(this.mouseScrollTimeStamp=c)}}},{key:"_goToPreviousPage",value:function(){var c=this.pdfViewer.currentPageNumber;if(1>=c)return!1;this.pdfViewer.currentPageNumber=c-1;return!0}},{key:"_goToNextPage",value:function(){var c=this.pdfViewer.currentPageNumber;if(c>=this.pdfViewer.pagesCount)return!1;this.pdfViewer.currentPageNumber=c+1;return!0}},{key:"_notifyStateChange",value:function(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function(){var c=this;this.switchInProgress&&clearTimeout(this.switchInProgress);this.switchInProgress=setTimeout(function(){c._removeFullscreenChangeListeners();delete c.switchInProgress;c._notifyStateChange()},1500)}},{key:"_resetSwitchInProgress",value:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)}},{key:"_enter",value:function(){var c=this;this.active=!0;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add("pdfPresentationMode");setTimeout(function(){c.pdfViewer.currentPageNumber=c.args.page;c.pdfViewer.currentScaleValue="page-fit"},0);this._addWindowListeners();this._showControls();this.contextMenuOpen=!1;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function(){var c=this,b=this.pdfViewer.currentPageNumber;this.container.classList.remove("pdfPresentationMode");setTimeout(function(){c.active=!1;c._removeFullscreenChangeListeners();c._notifyStateChange();c.pdfViewer.currentScaleValue=c.args.previousScale;c.pdfViewer.currentPageNumber=b;c.args=null},0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=!1}},{key:"_mouseDown",value:function(c){this.contextMenuOpen?(this.contextMenuOpen=!1,c.preventDefault()):0!==c.button||c.target.href&&c.target.classList.contains("internalLink")||(c.preventDefault(),c.shiftKey?this._goToPreviousPage():this._goToNextPage())}},{key:"_contextMenu",value:function(){this.contextMenuOpen=!0}},{key:"_showControls",value:function(){var c=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add("pdfPresentationModeControls");this.controlsTimeout=setTimeout(function(){c.container.classList.remove("pdfPresentationModeControls");delete c.controlsTimeout},3E3)}},{key:"_hideControls",value:function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove("pdfPresentationModeControls"),delete this.controlsTimeout)}},{key:"_resetMouseScrollState",value:function(){this.mouseScrollDelta=this.mouseScrollTimeStamp=0}},{key:"_touchSwipe",value:function(c){if(this.active)if(1<c.touches.length)this.touchSwipeState=null;else switch(c.type){case "touchstart":this.touchSwipeState={startX:c.touches[0].pageX,startY:c.touches[0].pageY,endX:c.touches[0].pageX,endY:c.touches[0].pageY};break;case "touchmove":if(null===this.touchSwipeState)break;this.touchSwipeState.endX=c.touches[0].pageX;this.touchSwipeState.endY=c.touches[0].pageY;c.preventDefault();break;case "touchend":if(null!==this.touchSwipeState){c=0;var b=this.touchSwipeState.endX-this.touchSwipeState.startX,a=this.touchSwipeState.endY-this.touchSwipeState.startY,e=Math.abs(Math.atan2(a,b));50<Math.abs(b)&&(e<=f||e>=Math.PI-f)?c=b:50<Math.abs(a)&&Math.abs(e-Math.PI/2)<=f&&(c=a);0<c?this._goToPreviousPage():0>c&&this._goToNextPage()}}}},{key:"_addWindowListeners",value:function(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind);window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind);window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]);return d}();g.PDFPresentationMode=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFSidebar=g.SidebarView=void 0;var q=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),k=h(0),f=h(3),d={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3};m=function(){function c(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k.NullL10n;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.isOpen=!1;this.active=d.THUMBS;this.isInitialViewSet=!1;this.onToggled=null;this.pdfViewer=b.pdfViewer;this.pdfThumbnailViewer=b.pdfThumbnailViewer;this.pdfOutlineViewer=b.pdfOutlineViewer;this.mainContainer=b.mainContainer;this.outerContainer=b.outerContainer;this.eventBus=b.eventBus;this.toggleButton=b.toggleButton;this.thumbnailButton=b.thumbnailButton;this.outlineButton=b.outlineButton;this.attachmentsButton=b.attachmentsButton;this.thumbnailView=b.thumbnailView;this.outlineView=b.outlineView;this.attachmentsView=b.attachmentsView;this.disableNotification=b.disableNotification||!1;this.l10n=a;this._addEventListeners()}q(c,[{key:"reset",value:function(){this.isInitialViewSet=!1;this._hideUINotification(null);this.switchView(d.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1}},{key:"setInitialView",value:function(b){if(!this.isInitialViewSet)if(this.isInitialViewSet=!0,this.isOpen&&b===d.NONE)this._dispatchEvent();else{var a=b===this.visibleView;this.switchView(b,!0);a&&this._dispatchEvent()}}},{key:"switchView",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(b===d.NONE)this.close();else{var c=b!==this.active,f=!1;switch(b){case d.THUMBS:this.thumbnailButton.classList.add("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.remove("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.add("hidden");this.isOpen&&c&&(this._updateThumbnailViewer(),f=!0);break;case d.OUTLINE:if(this.outlineButton.disabled)return;this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.add("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.remove("hidden");this.attachmentsView.classList.add("hidden");break;case d.ATTACHMENTS:if(this.attachmentsButton.disabled)return;this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.add("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.remove("hidden");break;default:console.error('PDFSidebar_switchView: "'+b+'" is an unsupported value.');return}this.active=b|0;a&&!this.isOpen?this.open():(f&&this._forceRendering(),c&&this._dispatchEvent(),this._hideUINotification(this.active))}}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.toggleButton.classList.add("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.add("sidebarOpen"),this.active===d.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.toggleButton.classList.remove("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function(){if(this.onToggled)this.onToggled();else this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering()}},{key:"_updateThumbnailViewer",value:function(){for(var b=this.pdfViewer,a=this.pdfThumbnailViewer,c=b.pagesCount,d=0;d<c;d++){var g=b.getPageView(d);g&&g.renderingState===f.RenderingStates.FINISHED&&a.getThumbnail(d).setImage(g)}a.scrollThumbnailIntoView(b.currentPageNumber)}},{key:"_showUINotification",value:function(b){var a=this;if(!this.disableNotification){this.l10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)").then(function(b){a.toggleButton.title=b});if(!this.isOpen)this.toggleButton.classList.add("pdfSidebarNotification");else if(b===this.active)return;switch(b){case d.OUTLINE:this.outlineButton.classList.add("pdfSidebarNotification");break;case d.ATTACHMENTS:this.attachmentsButton.classList.add("pdfSidebarNotification")}}}},{key:"_hideUINotification",value:function(b){var a=this;if(!this.disableNotification){var c=function(b){switch(b){case d.OUTLINE:a.outlineButton.classList.remove("pdfSidebarNotification");break;case d.ATTACHMENTS:a.attachmentsButton.classList.remove("pdfSidebarNotification")}};if(this.isOpen||null===b)if(this.toggleButton.classList.remove("pdfSidebarNotification"),null!==b)c(b);else{for(b in d)c(d[b]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then(function(b){a.toggleButton.title=b})}}}},{key:"_addEventListeners",value:function(){var b=this;this.mainContainer.addEventListener("transitionend",function(a){a.target===b.mainContainer&&b.outerContainer.classList.remove("sidebarMoving")});this.thumbnailButton.addEventListener("click",function(){b.switchView(d.THUMBS)});this.outlineButton.addEventListener("click",function(){b.switchView(d.OUTLINE)});this.outlineButton.addEventListener("dblclick",function(){b.pdfOutlineViewer.toggleOutlineTree()});this.attachmentsButton.addEventListener("click",function(){b.switchView(d.ATTACHMENTS)});this.eventBus.on("outlineloaded",function(a){a=a.outlineCount;b.outlineButton.disabled=!a;a?b._showUINotification(d.OUTLINE):b.active===d.OUTLINE&&b.switchView(d.THUMBS)});this.eventBus.on("attachmentsloaded",function(a){a=a.attachmentsCount;b.attachmentsButton.disabled=!a;a?b._showUINotification(d.ATTACHMENTS):b.active===d.ATTACHMENTS&&b.switchView(d.THUMBS)});this.eventBus.on("presentationmodechanged",function(a){a.active||a.switchInProgress||!b.isThumbnailViewVisible||b._updateThumbnailViewer()})}},{key:"visibleView",get:function(){return this.isOpen?this.active:d.NONE}},{key:"isThumbnailViewVisible",get:function(){return this.isOpen&&this.active===d.THUMBS}},{key:"isOutlineViewVisible",get:function(){return this.isOpen&&this.active===d.OUTLINE}},{key:"isAttachmentsViewVisible",get:function(){return this.isOpen&&this.active===d.ATTACHMENTS}}]);return c}();g.SidebarView=d;g.PDFSidebar=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFThumbnailView=void 0;var q=function(){function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),k=h(1),f=h(0),d=h(3),c=function(){var b=null;return{getCanvas:function(a,c){var d=b;d||(b=d=document.createElement("canvas"));d.width=a;d.height=c;d.mozOpaque=!0;var e=d.getContext("2d",{alpha:!1});e.save();e.fillStyle="rgb(255, 255, 255)";e.fillRect(0,0,a,c);e.restore();return d},destroyCanvas:function(){var a=b;a&&(a.width=0,a.height=0);b=null}}}();m=function(){function b(a){var c=a.container,g=a.id,h=a.defaultViewport,k=a.linkService,m=a.renderingQueue,t=a.disableCanvasToImageConversion,t=void 0===t?!1:t;a=a.l10n;a=void 0===a?f.NullL10n:a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.id=g;this.renderingId="thumbnail"+g;this.pdfPage=this.pageLabel=null;this.rotation=0;this.viewport=h;this.pdfPageRotate=h.rotation;this.linkService=k;this.renderingQueue=m;this.renderTask=null;this.renderingState=d.RenderingStates.INITIAL;this.resume=null;this.disableCanvasToImageConversion=t;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.l10n=a;var p=document.createElement("a");p.href=k.getAnchorUrl("#page\x3d"+g);this.l10n.get("thumb_page_title",{page:g},"Page {{page}}").then(function(a){p.title=a});p.onclick=function(){k.page=g;return!1};this.anchor=p;h=document.createElement("div");h.className="thumbnail";h.setAttribute("data-page-number",this.id);this.div=h;1===g&&h.classList.add("selected");m=document.createElement("div");m.className="thumbnailSelectionRing";m.style.width=this.canvasWidth+2+"px";m.style.height=this.canvasHeight+2+"px";this.ring=m;h.appendChild(m);p.appendChild(h);c.appendChild(p)}q(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(1,(this.rotation+this.pdfPageRotate)%360);this.reset()}},{key:"reset",value:function(){this.cancelRendering();this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");for(var a=this.ring,b=a.childNodes,c=b.length-1;0<=c;c--)a.removeChild(b[c]);a.style.width=this.canvasWidth+2+"px";a.style.height=this.canvasHeight+2+"px";this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(a){"undefined"!==typeof a&&(this.rotation=a);this.viewport=this.viewport.clone({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360});this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null);this.renderingState=d.RenderingStates.INITIAL;this.resume=null}},{key:"_getPageDrawContext",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=document.createElement("canvas");this.canvas=b;b.mozOpaque=!0;var c=b.getContext("2d",{alpha:!1}),d=(0,f.getOutputScale)(c);b.width=this.canvasWidth*d.sx|0;b.height=this.canvasHeight*d.sy|0;b.style.width=this.canvasWidth+"px";b.style.height=this.canvasHeight+"px";!a&&d.scaled&&c.scale(d.sx,d.sy);return c}},{key:"_convertCanvasToImage",value:function(){var a=this;if(this.canvas&&this.renderingState===d.RenderingStates.FINISHED){var b=this.renderingId;if(this.disableCanvasToImageConversion)this.canvas.id=b,this.canvas.className="thumbnailImage",this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(b){a.canvas.setAttribute("aria-label",b)}),this.div.setAttribute("data-loaded",!0),this.ring.appendChild(this.canvas);else{var c=document.createElement("img");c.id=b;c.className="thumbnailImage";this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){c.setAttribute("aria-label",a)});c.style.width=this.canvasWidth+"px";c.style.height=this.canvasHeight+"px";c.src=this.canvas.toDataURL();this.image=c;this.div.setAttribute("data-loaded",!0);this.ring.appendChild(c);this.canvas.width=0;this.canvas.height=0;delete this.canvas}}}},{key:"draw",value:function(){var a=this;if(this.renderingState!==d.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=d.RenderingStates.RUNNING;var b=(0,k.createPromiseCapability)(),c=function(c){h===a.renderTask&&(a.renderTask=null);"cancelled"===c||c instanceof k.RenderingCancelledException?b.resolve(void 0):(a.renderingState=d.RenderingStates.FINISHED,a._convertCanvasToImage(),c?b.reject(c):b.resolve(void 0))},f=this._getPageDrawContext(),g=this.viewport.clone({scale:this.scale}),h=this.renderTask=this.pdfPage.render({canvasContext:f,viewport:g});h.onContinue=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=d.RenderingStates.PAUSED,a.resume=function(){a.renderingState=d.RenderingStates.RUNNING;b()})};h.promise.then(function(){c(null)},function(a){c(a)});return b.promise}},{key:"setImage",value:function(a){if(this.renderingState===d.RenderingStates.INITIAL){var b=a.canvas;if(b){this.pdfPage||this.setPdfPage(a.pdfPage);this.renderingState=d.RenderingStates.FINISHED;a=this._getPageDrawContext(!0);var f=a.canvas;if(b.width<=2*f.width)a.drawImage(b,0,0,b.width,b.height,0,0,f.width,f.height);else{for(var g=f.width<<3,h=f.height<<3,k=c.getCanvas(g,h),m=k.getContext("2d");g>b.width||h>b.height;)g>>=1,h>>=1;for(m.drawImage(b,0,0,b.width,b.height,0,0,g,h);g>2*f.width;)m.drawImage(k,0,0,g,h,0,0,g>>1,h>>1),g>>=1,h>>=1;a.drawImage(k,0,0,g,h,0,0,f.width,f.height)}this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function(a){var b=this;this.pageLabel="string"===typeof a?a:null;this.l10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}").then(function(a){b.anchor.title=a});this.renderingState===d.RenderingStates.FINISHED&&this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){b.image?b.image.setAttribute("aria-label",a):b.disableCanvasToImageConversion&&b.canvas&&b.canvas.setAttribute("aria-label",a)})}},{key:"pageId",get:function(){return null!==this.pageLabel?this.pageLabel:this.id}}],[{key:"cleanup",value:function(){c.destroyCanvas()}}]);return b}();g.PDFThumbnailView=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.PDFThumbnailViewer=void 0;var q=function(){function d(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),k=h(0),f=h(25);m=function(){function d(c){var b=c.container,a=c.linkService,e=c.renderingQueue;c=c.l10n;c=void 0===c?k.NullL10n:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.container=b;this.linkService=a;this.renderingQueue=e;this.l10n=c;this.scroll=(0,k.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}q(d,[{key:"_scrollUpdated",value:function(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function(c){return this._thumbnails[c]}},{key:"_getVisibleThumbs",value:function(){return(0,k.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function(c){var b=document.querySelector(".thumbnail.selected");b&&b.classList.remove("selected");(b=document.querySelector('div.thumbnail[data-page-number\x3d"'+c+'"]'))&&b.classList.add("selected");var a=this._getVisibleThumbs(),d=a.views.length;if(0<d){var f=a.first.id,a=1<d?a.last.id:f;(c<=f||c>=a)&&(0,k.scrollIntoView)(b,{top:-19})}}},{key:"cleanup",value:function(){f.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function(){this._thumbnails=[];this._pageLabels=null;this._pagesRotation=0;this._pagesRequests=[];this.container.textContent=""}},{key:"setDocument",value:function(c){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());(this.pdfDocument=c)&&c.getPage(1).then(function(a){var d=c.numPages;a=a.getViewport(1);for(var g=1;g<=d;++g){var h=new f.PDFThumbnailView({container:b.container,id:g,defaultViewport:a.clone(),linkService:b.linkService,renderingQueue:b.renderingQueue,disableCanvasToImageConversion:!1,l10n:b.l10n});b._thumbnails.push(h)}}).catch(function(a){console.error("Unable to initialize thumbnail viewer",a)})}},{key:"_cancelRendering",value:function(){for(var c=0,b=this._thumbnails.length;c<b;c++)this._thumbnails[c]&&this._thumbnails[c].cancelRendering()}},{key:"setPageLabels",value:function(c){if(this.pdfDocument){c?c instanceof Array&&this.pdfDocument.numPages===c.length?this._pageLabels=c:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;c=0;for(var b=this._thumbnails.length;c<b;c++)this._thumbnails[c].setPageLabel(this._pageLabels&&this._pageLabels[c])}}},{key:"_ensurePdfPageLoaded",value:function(c){var b=this;if(c.pdfPage)return Promise.resolve(c.pdfPage);var a=c.id;if(this._pagesRequests[a])return this._pagesRequests[a];var d=this.pdfDocument.getPage(a).then(function(d){c.setPdfPage(d);b._pagesRequests[a]=null;return d}).catch(function(c){console.error("Unable to get page for thumb view",c);b._pagesRequests[a]=null});return this._pagesRequests[a]=d}},{key:"forceRendering",value:function(){var c=this,b=this._getVisibleThumbs(),a=this.renderingQueue.getHighestPriority(b,this._thumbnails,this.scroll.down);return a?(this._ensurePdfPageLoaded(a).then(function(){c.renderingQueue.renderView(a)}),!0):!1}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(c){if("number"!==typeof c||0!==c%90)throw Error("Invalid thumbnails rotation angle.");if(this.pdfDocument){this._pagesRotation=c;for(var b=0,a=this._thumbnails.length;b<a;b++)this._thumbnails[b].update(c)}}}]);return d}();g.PDFThumbnailViewer=m},function(m,g,h){function q(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c){for(a=c;b.length>a;)b.shift().destroy()}}function k(a){return a.width<=a.height}Object.defineProperty(g,"__esModule",{value:!0});g.PDFViewer=g.PresentationModeState=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=h(1),c=h(0),b=h(3),a=h(11),e=h(2),l=h(22),r=h(5),A=h(30),x={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};m=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,e.getGlobalEventBus)();this.linkService=a.linkService||new r.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||c.RendererType.CANVAS;this.l10n=a.l10n||c.NullL10n;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new b.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=x.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}f(g,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(a){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var e=a.numPages,f=(0,d.createPromiseCapability)();this.pagesPromise=f.promise;f.promise.then(function(){b._pageViewsReady=!0;b.eventBus.dispatch("pagesloaded",{source:b,pagesCount:e})});var g=!1,h=(0,d.createPromiseCapability)();this.onePageRendered=h.promise;var p=function(a){a.onBeforeDraw=function(){b._buffer.push(a)};a.onAfterDraw=function(){g||(g=!0,h.resolve())}},k=a.getPage(1);this.firstPagePromise=k;k.then(function(g){var k=b.currentScale;g=g.getViewport(k*c.CSS_UNITS);for(var m=1;m<=e;++m){var r=null;d.PDFJS.disableTextLayer||(r=b);r=new l.PDFPageView({container:b.viewer,eventBus:b.eventBus,id:m,scale:k,defaultViewport:g.clone(),renderingQueue:b.renderingQueue,textLayerFactory:r,annotationLayerFactory:b,enhanceTextSelection:b.enhanceTextSelection,renderInteractiveForms:b.renderInteractiveForms,renderer:b.renderer,l10n:b.l10n});p(r);b._pages.push(r)}h.promise.then(function(){if(d.PDFJS.disableAutoFetch)f.resolve();else for(var c=e,g=function(d){a.getPage(d).then(function(a){var e=b._pages[d-1];e.pdfPage||e.setPdfPage(a);b.linkService.cachePageRef(d,a.ref);0===--c&&f.resolve()},function(a){console.error("Unable to get page "+d+" to initialize viewer",a);0===--c&&f.resolve()})},h=1;h<=e;++h)g(h)});b.eventBus.dispatch("pagesinit",{source:b});b.defaultRenderingQueue&&b.update();b.findController&&b.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer.setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=c.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new q(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",c)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var f;f=this._currentScale;f=a===f?!0:1E-15>Math.abs(a-f)?!0:!1;if(f)e&&this._setScaleDispatchEvent(a,b,!0);else{f=0;for(var g=this._pages.length;f<g;f++)this._pages[f].update(a);this._currentScale=a;c||(c=this._currentPageNumber,f=void 0,!this._location||d.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:f,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,b,e);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=parseFloat(a);if(0<d)this._setScaleUpdatePages(d,a,b,!1);else if(d=this._pages[this._currentPageNumber-1]){var e=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:c.SCROLLBAR_PADDING))/d.width*d.scale,f=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:c.VERTICAL_PADDING))/d.height*d.scale;switch(a){case "page-actual":d=1;break;case "page-width":d=e;break;case "page-height":d=f;break;case "page-fit":d=Math.min(e,f);break;case "auto":d=Math.min(c.MAX_AUTO_SCALE,d.width>d.height?Math.min(f,e):e);break;default:console.error('PDFViewer._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(d,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var a=this._pages[this._currentPageNumber-1];(0,c.scrollIntoView)(a.div)}},{key:"scrollPageIntoView",value:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var d=a.pageNumber||0,e=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!e)this._setCurrentPageNumber(d,!0);else if(d=this._pages[d-1]){var f=0,g=0,h=0,l=0,p,k;k=0===d.rotation%180?!1:!0;p=(k?d.height:d.width)/d.scale/c.CSS_UNITS;k=(k?d.width:d.height)/d.scale/c.CSS_UNITS;switch(e[1].name){case "XYZ":f=e[2];g=e[3];p=e[4];f=null!==f?f:0;g=null!==g?g:k;break;case "Fit":case "FitB":p="page-fit";break;case "FitH":case "FitBH":g=e[2];p="page-width";null===g&&this._location&&(f=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":f=e[2];h=p;l=k;p="page-height";break;case "FitR":f=e[2];g=e[3];h=e[4]-f;l=e[5]-g;k=this.removePageBorders?0:c.VERTICAL_PADDING;p=(this.container.clientWidth-(this.removePageBorders?0:c.SCROLLBAR_PADDING))/h/c.CSS_UNITS;k=(this.container.clientHeight-k)/l/c.CSS_UNITS;p=Math.min(Math.abs(p),Math.abs(k));break;default:console.error('PDFViewer.scrollPageIntoView: "'+e[1].name+'" is not a valid destination type.');return}p&&p!==this._currentScale?this.currentScaleValue=p:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE);"page-fit"!==p||e[4]?(f=[d.viewport.convertToViewportPoint(f,g),d.viewport.convertToViewportPoint(f+h,g+l)],e=Math.min(f[0][0],f[1][0]),f=Math.min(f[0][1],f[1][1]),b||(e=Math.max(e,0),f=Math.max(f,0)),(0,c.scrollIntoView)(d.div,{left:e,top:f})):(0,c.scrollIntoView)(d.div)}else console.error('PDFViewer.scrollPageIntoView: Invalid "pageNumber" parameter.')}}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page\x3d"+c+("\x26zoom\x3d"+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=!1,e=0,f=b.length;e<f;++e){var g=b[e];if(100>g.percent)break;if(g.id===c){d=!0;break}}d||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,c.getVisibleElements)(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}}},{key:"cleanup",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].renderingState!==b.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d}).catch(function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=d}},{key:"forceRendering",value:function(a){var b=this;a=a||this._getVisiblePages();var c=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"getPageTextContent",value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new A.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})}},{key:"createAnnotationLayerBuilder",value:function(b,d){return new a.AnnotationLayerBuilder({pageDiv:b,pdfPage:d,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:c.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=k(a[0]);return a.map(function(a){return b===k(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if("number"!==typeof a||0!==a%90)throw Error("Invalid pages rotation angle.");if(this.pdfDocument){this._pagesRotation=a;for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===x.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===x.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}}]);return g}();g.PresentationModeState=x;g.PDFViewer=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.BasePreferences=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},k=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),f=h(0),d=null;m=function(){function c(){var b=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this.constructor===c)throw Error("Cannot initialize BasePreferences.");this.prefs=null;d||(d=Promise.resolve({showPreviousViewOnLoad:!0,defaultZoomValue:"",sidebarViewOnLoad:0,enableHandToolOnLoad:!1,cursorToolOnLoad:0,enableWebGL:!1,pdfBugEnabled:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,disableFontFace:!1,disableTextLayer:!1,useOnlyCssZoom:!1,externalLinkTarget:0,enhanceTextSelection:!1,renderer:"canvas",renderInteractiveForms:!1,enablePrintAutoRotate:!1,disablePageMode:!1,disablePageLabels:!1}));this._initializedPromise=d.then(function(a){Object.defineProperty(b,"defaults",{value:Object.freeze(a),writable:!1,enumerable:!0,configurable:!1});b.prefs=(0,f.cloneObj)(a);return b._readFromStorage(a)}).then(function(a){a&&(b.prefs=a)})}k(c,[{key:"_writeToStorage",value:function(b){return Promise.reject(Error("Not implemented: _writeToStorage"))}},{key:"_readFromStorage",value:function(b){return Promise.reject(Error("Not implemented: _readFromStorage"))}},{key:"reset",value:function(){var b=this;return this._initializedPromise.then(function(){b.prefs=(0,f.cloneObj)(b.defaults);return b._writeToStorage(b.defaults)})}},{key:"reload",value:function(){var b=this;return this._initializedPromise.then(function(){return b._readFromStorage(b.defaults)}).then(function(a){a&&(b.prefs=a)})}},{key:"set",value:function(b,a){var c=this;return this._initializedPromise.then(function(){if(void 0===c.defaults[b])throw Error('Set preference: "'+b+'" is undefined.');if(void 0===a)throw Error("Set preference: no value is specified.");var d="undefined"===typeof a?"undefined":q(a),e=q(c.defaults[b]);if(d!==e)if("number"===d&&"string"===e)a=a.toString();else throw Error('Set preference: "'+a+'" is a '+d+", "+("expected a "+e+"."));else if("number"===d&&(a|0)!==a)throw Error('Set preference: "'+a+'" must be an integer.');c.prefs[b]=a;return c._writeToStorage(c.prefs)})}},{key:"get",value:function(b){var a=this;return this._initializedPromise.then(function(){var c=a.defaults[b];if(void 0===c)throw Error('Get preference: "'+b+'" is undefined.');var d=a.prefs[b];return void 0!==d?d:c})}}]);return c}();g.BasePreferences=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.SecondaryToolbar=void 0;var q=function(){function d(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),k=h(6),f=h(0);m=function(){function d(c,b,a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.toolbar=c.toolbar;this.toggleButton=c.toggleButton;this.toolbarButtonContainer=c.toolbarButtonContainer;this.buttons=[{element:c.presentationModeButton,eventName:"presentationmode",close:!0},{element:c.openFileButton,eventName:"openfile",close:!0},{element:c.printButton,eventName:"print",close:!0},{element:c.downloadButton,eventName:"download",close:!0},{element:c.viewBookmarkButton,eventName:null,close:!0},{element:c.firstPageButton,eventName:"firstpage",close:!0},{element:c.lastPageButton,eventName:"lastpage",close:!0},{element:c.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:c.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:c.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:k.CursorTool.SELECT},close:!0},{element:c.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:k.CursorTool.HAND},close:!0},{element:c.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.items={firstPage:c.firstPageButton,lastPage:c.lastPageButton,pageRotateCw:c.pageRotateCwButton,pageRotateCcw:c.pageRotateCcwButton};this.mainContainer=b;this.eventBus=a;this.opened=!1;this.previousContainerHeight=this.containerHeight=null;this.reset();this._bindClickListeners();this._bindCursorToolsListener(c);this.eventBus.on("resize",this._setMaxHeight.bind(this))}q(d,[{key:"setPageNumber",value:function(c){this.pageNumber=c;this._updateUIState()}},{key:"setPagesCount",value:function(c){this.pagesCount=c;this._updateUIState()}},{key:"reset",value:function(){this.pagesCount=this.pageNumber=0;this._updateUIState()}},{key:"_updateUIState",value:function(){this.items.firstPage.disabled=1>=this.pageNumber;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount}},{key:"_bindClickListeners",value:function(){var c=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var b=function(a){a=c.buttons[a];var b=a.eventName,d=a.close,e=a.eventDetails;a.element.addEventListener("click",function(a){if(null!==b){a={source:c};for(var f in e)a[f]=e[f];c.eventBus.dispatch(b,a)}d&&c.close()})},a;for(a in this.buttons)b(a)}},{key:"_bindCursorToolsListener",value:function(c){this.eventBus.on("cursortoolchanged",function(b){c.cursorSelectToolButton.classList.remove("toggled");c.cursorHandToolButton.classList.remove("toggled");switch(b.tool){case k.CursorTool.SELECT:c.cursorSelectToolButton.classList.add("toggled");break;case k.CursorTool.HAND:c.cursorHandToolButton.classList.add("toggled")}})}},{key:"open",value:function(){this.opened||(this.opened=!0,this._setMaxHeight(),this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function(){this.opened&&(this.containerHeight=this.mainContainer.clientHeight,this.containerHeight!==this.previousContainerHeight&&(this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-f.SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.containerHeight))}},{key:"isOpen",get:function(){return this.opened}}]);return d}();g.SecondaryToolbar=m},function(m,g,h){function q(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(g,"__esModule",{value:!0});g.DefaultTextLayerFactory=g.TextLayerBuilder=void 0;var k=function(){function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),f=h(2),d=h(1),c=function(){function b(a){var c=a.textLayerDiv,d=a.eventBus,g=a.pageIndex,h=a.viewport,k=a.findController,k=void 0===k?null:k;a=a.enhanceTextSelection;a=void 0===a?!1:a;q(this,b);this.textLayerDiv=c;this.eventBus=d||(0,f.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=g;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=h;this.textDivs=[];this.findController=k;this.textLayerRenderTask=null;this.enhanceTextSelection=a;this._bindMouse()}k(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,d.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:b,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){a.textLayerDiv.appendChild(c);a._finishRendering();a.updateMatches()},function(a){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(a){this.cancel();this.textContentStream=a}},{key:"setTextContent",value:function(a){this.cancel();this.textContent=a}},{key:"convertMatches",value:function(a,b){var c=0,d=0,e=this.textContentItemsStr,f=e.length-1,g=null===this.findController?0:this.findController.state.query.length,h=[];if(!a)return h;for(var k=0,m=a.length;k<m;k++){for(var q=a[k];c!==f&&q>=d+e[c].length;)d+=e[c].length,c++;c===e.length&&console.error("Could not find a matching mapping");for(var w={begin:{divIdx:c,offset:q-d}},q=b?q+b[k]:q+g;c!==f&&q>d+e[c].length;)d+=e[c].length,c++;w.end={divIdx:c,offset:q-d};h.push(w)}return h}},{key:"renderMatches",value:function(a){function b(a,b){var d=a.divIdx;f[d].textContent="";c(d,0,a.offset,b)}function c(a,b,c,e){var g=f[a];a=d[a].substring(b,c);a=document.createTextNode(a);e?(b=document.createElement("span"),b.className=e,b.appendChild(a),g.appendChild(b)):g.appendChild(a)}if(0!==a.length){var d=this.textContentItemsStr,f=this.textDivs,g=null,h=this.pageIdx,k=null===this.findController?!1:h===this.findController.selected.pageIdx,m=null===this.findController?-1:this.findController.selected.matchIdx,q=m,G=q+1;if(null===this.findController?0:this.findController.state.highlightAll)q=0,G=a.length;else if(!k)return;for(;q<G;q++){var w=a[q],B=w.begin,w=w.end,z=k&&q===m?" selected":"";this.findController&&this.findController.updateMatchPosition(h,q,f,B.divIdx);g&&B.divIdx===g.divIdx?c(g.divIdx,g.offset,B.offset):(null!==g&&c(g.divIdx,g.offset,void 0),b(B));if(B.divIdx===w.divIdx)c(B.divIdx,B.offset,w.offset,"highlight"+z);else{c(B.divIdx,B.offset,void 0,"highlight begin"+z);g=B.divIdx+1;for(B=w.divIdx;g<B;g++)f[g].className="highlight middle"+z;b(w,"highlight end"+z)}g=w}g&&c(g.divIdx,g.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContentItemsStr,d=-1,f=0,g=a.length;f<g;f++){for(var h=a[f],d=Math.max(d,h.begin.divIdx),k=h.end.divIdx;d<=k;d++){var m=b[d];m.textContent=c[d];m.className=""}d=h.end.divIdx+1}null!==this.findController&&this.findController.active&&(b=a=void 0,null!==this.findController&&(a=this.findController.pageMatches[this.pageIdx]||null,b=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(a,b),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var a=this,b=this.textLayerDiv,c=null;b.addEventListener("mousedown",function(d){if(a.enhanceTextSelection&&a.textLayerRenderTask)a.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var e=b.querySelector(".endOfContent");if(e){var f=d.target!==b;if(f=f&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))f=b.getBoundingClientRect(),e.style.top=(100*Math.max(0,(d.pageY-f.top)/f.height)).toFixed(2)+"%";e.classList.add("active")}}});b.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)c=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=b.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return b}();m=function(){function b(){q(this,b)}k(b,[{key:"createTextLayerBuilder",value:function(a,b,d){return new c({textLayerDiv:a,pageIndex:b,viewport:d,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();g.TextLayerBuilder=c;g.DefaultTextLayerFactory=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});g.Toolbar=void 0;var q=function(){function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,c,b){c&&f(d.prototype,c);b&&f(d,b);return d}}(),k=h(0);m=function(){function f(d,c,b){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:k.NullL10n;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.toolbar=d.container;this.mainContainer=c;this.eventBus=b;this.l10n=a;this.items=d;this._wasLocalized=!1;this.reset();this._bindListeners()}q(f,[{key:"setPageNumber",value:function(d,c){this.pageNumber=d;this.pageLabel=c;this._updateUIState(!1)}},{key:"setPagesCount",value:function(d,c){this.pagesCount=d;this.hasPageLabels=c;this._updateUIState(!0)}},{key:"setPageScale",value:function(d,c){this.pageScaleValue=d;this.pageScale=c;this._updateUIState(!1)}},{key:"reset",value:function(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;this.pageScaleValue=k.DEFAULT_SCALE_VALUE;this.pageScale=k.DEFAULT_SCALE;this._updateUIState(!0)}},{key:"_bindListeners",value:function(){var d=this,c=this.eventBus,b=this.items,a=this;b.previous.addEventListener("click",function(){c.dispatch("previouspage")});b.next.addEventListener("click",function(){c.dispatch("nextpage")});b.zoomIn.addEventListener("click",function(){c.dispatch("zoomin")});b.zoomOut.addEventListener("click",function(){c.dispatch("zoomout")});b.pageNumber.addEventListener("click",function(){this.select()});b.pageNumber.addEventListener("change",function(){c.dispatch("pagenumberchanged",{source:a,value:this.value})});b.scaleSelect.addEventListener("change",function(){"custom"!==this.value&&c.dispatch("scalechanged",{source:a,value:this.value})});b.presentationModeButton.addEventListener("click",function(){c.dispatch("presentationmode")});b.openFile.addEventListener("click",function(){c.dispatch("openfile")});b.print.addEventListener("click",function(){c.dispatch("print")});b.download.addEventListener("click",function(){c.dispatch("download")});b.scaleSelect.oncontextmenu=k.noContextMenuHandler;c.on("localized",function(){d._localized()})}},{key:"_localized",value:function(){this._wasLocalized=!0;this._adjustScaleWidth();this._updateUIState(!0)}},{key:"_updateUIState",value:function(){if(this._wasLocalized){var d=this.pageNumber,c=this.pagesCount,b=this.items,a=(this.pageScaleValue||this.pageScale).toString(),e=this.pageScale;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.hasPageLabels?b.pageNumber.type="text":(b.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:c},"of {{pagesCount}}").then(function(a){b.numPages.textContent=a})),b.pageNumber.max=c);this.hasPageLabels?(b.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:d,pagesCount:c},"({{pageNumber}} of {{pagesCount}})").then(function(a){b.numPages.textContent=a})):b.pageNumber.value=d;b.previous.disabled=1>=d;b.next.disabled=d>=c;b.zoomOut.disabled=e<=k.MIN_SCALE;b.zoomIn.disabled=e>=k.MAX_SCALE;this.l10n.get("page_scale_percent",{scale:Math.round(1E4*e)/100},"{{scale}}%").then(function(c){for(var d=b.scaleSelect.options,e=!1,f=0,g=d.length;f<g;f++){var h=d[f];h.value!==a?h.selected=!1:e=h.selected=!0}e||(b.customScaleOption.textContent=c,b.customScaleOption.selected=!0)})}}},{key:"updateLoadingIndicatorState",value:function(){var d=this.items.pageNumber;0<arguments.length&&void 0!==arguments[0]&&arguments[0]?d.classList.add("visiblePageIsLoading"):d.classList.remove("visiblePageIsLoading")}},{key:"_adjustScaleWidth",value:function(){var d=this.items.scaleSelectContainer,c=this.items.scaleSelect;k.animationStarted.then(function(){0===d.clientWidth&&d.setAttribute("style","display: inherit;");if(0<d.clientWidth){c.setAttribute("style","min-width: inherit;");var b=c.clientWidth+8;c.setAttribute("style","min-width: "+(b+22)+"px;");d.setAttribute("style","min-width: "+b+"px; max-width: "+b+"px;")}})}}]);return f}();g.Toolbar=m},function(m,g,h){Object.defineProperty(g,"__esModule",{value:!0});var q=function(){function g(f,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(f,d,c){d&&g(f.prototype,d);c&&g(f,c);return f}}();m=function(){function g(f){var d=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.fingerprint=f;this.cacheSize=c;this._initializedPromise=this._readFromStorage().then(function(b){b=JSON.parse(b||"{}");"files"in b||(b.files=[]);b.files.length>=d.cacheSize&&b.files.shift();for(var a=void 0,c=0,f=b.files.length;c<f;c++)if(b.files[c].fingerprint===d.fingerprint){a=c;break}"number"!==typeof a&&(a=b.files.push({fingerprint:d.fingerprint})-1);d.file=b.files[a];d.database=b})}q(g,[{key:"_writeToStorage",value:function(){var f=this;return new Promise(function(d){var c=JSON.stringify(f.database);localStorage.setItem("pdfjs.history",c);d()})}},{key:"_readFromStorage",value:function(){return new Promise(function(f){var d=localStorage.getItem("pdfjs.history");if(!d){var c=localStorage.getItem("database");if(c)try{"string"===typeof JSON.parse(c).files[0].fingerprint&&(localStorage.setItem("pdfjs.history",c),localStorage.removeItem("database"),d=c)}catch(b){}}f(d)})}},{key:"set",value:function(f,d){var c=this;return this._initializedPromise.then(function(){c.file[f]=d;return c._writeToStorage()})}},{key:"setMultiple",value:function(f){var d=this;return this._initializedPromise.then(function(){for(var c in f)d.file[c]=f[c];return d._writeToStorage()})}},{key:"get",value:function(f,d){var c=this;return this._initializedPromise.then(function(){var b=c.file[f];return void 0!==b?b:d})}},{key:"getMultiple",value:function(f){var d=this;return this._initializedPromise.then(function(){var c=Object.create(null),b;for(b in f){var a=d.file[b];c[b]=void 0!==a?a:f[b]}return c})}}]);return g}();g.ViewHistory=m},function(m,g,h){function q(){var f={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{mainContainer:document.getElementById("mainContainer"),outerContainer:document.getElementById("outerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js",defaultUrl:"compressed.tracemonkey-pldi-09.pdf"};window.PDFViewerApplication=k.PDFViewerApplication;k.PDFViewerApplication.run(f)}var k=void 0,k=h(4);h(8);h(9);"interactive"===document.readyState||"complete"===document.readyState?q():document.addEventListener("DOMContentLoaded",q,!0)}]);
//# sourceMappingURL=viewer.min.js.map
