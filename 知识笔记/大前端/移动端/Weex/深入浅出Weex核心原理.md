# æ·±å…¥æµ…å‡ºWeexæ ¸å¿ƒåŸç†

## å‰è¨€

	ä»å‰ï¼Œå¦‚æœæˆ‘ä»¬æ‰“ç®—å®ç°æŸä¸ªéœ€æ±‚ï¼Œé€šå¸¸éœ€è¦ä¸‰ç§ç¨‹åºå‘˜ï¼ˆIOS, å®‰å“ï¼Œå‰ç«¯ï¼‰å†™ä¸‰ä»½ä»£ç ã€‚è¿™å°±å¸¦æ¥äº†éå¸¸å¤§çš„å¼€å‘æˆæœ¬ï¼Œæ‰€ä»¥ä¸šç•Œä¹Ÿä¸€ç›´åœ¨æ¢ç´¢è·¨å¹³å°æ–¹æ¡ˆâ€”â€”ä»æœ€æ—©çš„H5, Hybrid åˆ°ç°åœ¨çš„weex, React Nativeã€‚è¿™äº›æ–¹æ¡ˆçš„æœ¬è´¨ç›®çš„éƒ½æ˜¯ï¼Œä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ

#### H5å’ŒHybridçš„å‘å±•

	æ—©æœŸH5å’ŒHybridæ–¹æ¡ˆçš„æœ¬è´¨æ˜¯ï¼šåˆ©ç”¨å®¢æˆ·ç«¯Appçš„å†…ç½®æµè§ˆå™¨ï¼ˆä¹Ÿå°±æ˜¯`webView`ï¼‰åŠŸèƒ½ï¼Œé€šè¿‡å¼€å‘å‰ç«¯çš„H5é¡µé¢æ»¡è¶³è·¨å¹³å°éœ€æ±‚

> è¯¥æ–¹æ¡ˆæå‡å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿæ»¡è¶³äº†è·¨ç«¯çš„éœ€æ±‚ã€‚ä½†æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ`å‰ç«¯H5çš„æ€§èƒ½å’Œå®¢æˆ·ç«¯çš„æ€§èƒ½ç›¸å·®ç”šè¿œ`

#### weexçš„å‘å±•

	äºæ˜¯åæ¥, ä¸šç•Œç»§ç»­æ¢ç´¢å¯ä»¥åª²ç¾åŸç”Ÿä½“éªŒappçš„æ–¹æ¡ˆï¼Œæ¯”å¦‚è¯´WEEXï¼Œå½“ç„¶ï¼Œè¿˜æœ‰react Native å’Œ Flutterç­‰

> WEEXä¾æ—§é‡‡å–å‰ç«¯H5é¡µé¢è¿›è¡Œå¼€å‘ï¼ŒåŒæ—¶appåœ¨ç»ˆç«¯çš„è¿è¡Œä½“éªŒä¸è¾“native appã€‚å³å¯ä»¥ä¿è¯å¿«é€Ÿå“åº”éœ€æ±‚ï¼Œåˆå¯ä»¥ä¿è¯ç”¨æˆ·ä½“éªŒ

**é‚£ä¹ˆWEEXæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ**

	æœ¬è´¨æ¥è¯´ï¼ŒWEEXæ˜¯ç”¨å®¢æˆ·ç«¯Nativeçš„èƒ½åŠ›ï¼Œå»åšäº†éƒ¨åˆ†æµè§ˆå™¨ï¼ˆwebViewï¼‰çš„å·¥ä½œ

> åœ¨2016å¹´2æœˆï¼Œ WeexSDK å‘å¸ƒäº†v0.10.0ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬é‡Œé¢ï¼Œé›†æˆäº†`v2ç‰ˆæœ¬çš„Vue`ã€‚

**ä¸ºå•¥æ˜¯Vue 2.x ç‰ˆæœ¬å‘¢ï¼Ÿ**

	Vue 2.xåŠ å…¥äº† Virtual-DOM å’Œé¢„ç¼–è¯‘å™¨çš„è®¾è®¡ï¼Œä½¿å¾—è¯¥æ¡†æ¶åœ¨è¿è¡Œæ—¶èƒ½å¤Ÿè„±ç¦» HTML å’Œ CSS è§£æï¼Œåªä¾èµ– JavaScriptï¼›åŒæ—¶ Virtual-DOM ä¹Ÿä½¿å¾— Vue 2.x æ¸²æŸ“æˆåŸç”Ÿ UI æˆä¸ºäº†å¯èƒ½ã€‚

## weex åŸç†æ¢ç©¶

#### weex æ•´ä½“æ¶æ„

![Weexæ•´ä½“æ¶æ„å›¾](../../../images/ç§»åŠ¨ç«¯/Weexæ•´ä½“æ¶æ„å›¾.png)

###### åˆ†æweexçš„å¤§è‡´å·¥ä½œæµç¨‹

1. å‰ç«¯å¼€å‘å¯ä»¥å†™ç†Ÿæ‚‰vueè¯­æ³•çš„å•æ–‡ä»¶ï¼Œç„¶åæ‰“åŒ…æˆå‡ºæ¥ä¸€ä»½dist â€”â€” JS Bundleï¼Œç„¶åéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š

2. å®¢æˆ·ç«¯æ‰“å¼€æŸä¸€ä¸ªé¡µé¢ï¼Œé€šè¿‡ç½‘ç»œä¸‹è½½JS Bundleï¼Œç„¶ååœ¨å®¢æˆ·ç«¯æœ¬åœ°æ‰§è¡Œè¯¥JS Bundle

3. å®¢æˆ·ç«¯æä¾›äº†JSçš„æ‰§è¡Œå¼•æ“(JSCore)ç”¨äºæ‰§è¡Œè¿œç¨‹åŠ è½½åˆ°JS Bundle

4. JSæ‰§è¡Œå¼•æ“æ‰§è¡ŒJS Bundleï¼Œå’Œæµè§ˆå™¨çš„è¿‡ç¨‹ç±»ä¼¼ï¼ŒJS Bundle çš„ä»£ç è¢«æ‰§è¡Œï¼Œç”ŸæˆVNode æ ‘è¿›è¡Œpatchï¼Œæ‰¾å‡ºæœ€å°æ“ä½œDOMèŠ‚ç‚¹çš„æ“ä½œï¼ŒæŠŠå¯¹DOMèŠ‚ç‚¹çš„æ“ä½œè½¬å˜ä¸ºNative DOM API, è°ƒç”¨WXBridge è¿›è¡Œé€šä¿¡

5. WXBridgeå°†æ¸²æŸ“æŒ‡ä»¤åˆ†å‘åˆ°nativeï¼ˆAndroidã€iOSï¼‰æ¸²æŸ“å¼•æ“ï¼Œç”±nativeæ¸²æŸ“å¼•æ“å®Œæˆæœ€ç»ˆçš„é¡µé¢æ¸²æŸ“

> çœ‹å®Œä¸Šè¿°æ•´ä½“æµç¨‹åï¼Œå¯ä»¥å¤§è‡´ç†è§£ä¸ºä½•WEEXå¯ä»¥è¾¾åˆ°åª²ç¾åŸç”Ÿçš„ä½“éªŒï¼Œå› ä¸ºå…¶é¡µé¢æ¸²æŸ“å¹¶ä¸æ˜¯åƒH5æ–¹æ¡ˆä¸€æ ·ä½¿ç”¨æµè§ˆå™¨çš„æ¸²æŸ“èƒ½åŠ›ï¼Œè€Œæ˜¯åŸç”Ÿæ¸²æŸ“ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæ¸²æŸ“å‡ºæ¥çš„é¡µé¢å°±æ˜¯ä¸€ä¸ªnativeé¡µé¢

###### å…·ä½“æµç¨‹åˆ†æ

**ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆ JS bundle**

	JS bundle æ˜¯å‰ç«¯å†™å¥½ä»£ç åæ‰“åŒ…å‡ºæ¥çš„dist

> å‰ç«¯åŒå­¦åœ¨.vue çš„å•æ–‡ä»¶ä¸­ï¼Œå†™`<template>`ï¼Œ`<style>`å’Œ`<script>`æ ‡ç­¾ï¼Œç„¶åæŠŠè¿™äº›æ ‡ç­¾è½¬æ¢ä¸ºJS Bundleç”¨äºéƒ¨ç½²åœ¨æœåŠ¡ç«¯ï¼Œä¹‹åå®¢æˆ·ç«¯ä¼šå»è¯·æ±‚è¿™äº›JS Bundle

*è½¬æ¢ç¤ºä¾‹*

	æ¯”å¦‚è¯´ï¼Œä¸‹å›¾ä¸­å·¦è¾¹æ˜¯vueæºä»£ç ï¼Œå³è¾¹æ˜¯æ‰“åŒ…å‡ºæ¥åˆ°JS Bundle

![vueæ–‡ä»¶è½¬æ¢JS_Bundleå›¾](../../../images/ç§»åŠ¨ç«¯/vueæ–‡ä»¶è½¬æ¢JS_Bundleå›¾.png)

	å³è¾¹å…¶å®å°±æ˜¯Vueæ‰“åŒ…ç”Ÿæˆçš„render å‡½æ•°

!> é—®é¢˜æ˜¯ï¼šå½“å®¢æˆ·ç«¯è·å–åˆ°å¦‚ä¸Šå›¾å³ä¾§çš„js bundleåï¼Œå¦‚ä½•è¿›è¡ŒåŠ è½½ã€æ¸²æŸ“ä»¥åŠåç»­çš„ç›¸å…³é€»è¾‘æ‰§è¡Œï¼Ÿ

**ç¬¬äºŒæ­¥ï¼šWEEX SDKåˆå§‹åŒ–**

	weexåœ¨çœŸæ­£æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¹‹å‰ï¼Œä¼šå…ˆåšä¸€äº›å‡†å¤‡çš„åˆå§‹åŒ–å·¥ä½œï¼Œè¿™ä¸€ç‚¹æœ‰ä¸€ç‚¹åƒå¾®ä¿¡å°ç¨‹åº

> åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒWEEX SDK ä¼šåˆå§‹åŒ–å‡ æ ·ä¸œè¥¿

	1. åˆå§‹åŒ–jsçš„æ‰§è¡Œç¯å¢ƒâ€”â€”`js Core` æˆ–è€…æ˜¯ `v8`
	2. åŠ è½½`weex-vue-framework` çš„ä»£ç 
	3. åˆå§‹åŒ–`WXBridge`

![WeexSDKåˆå§‹åŒ–å›¾](../../../images/ç§»åŠ¨ç«¯/WeexSDKåˆå§‹åŒ–å›¾.png)

1. jsçš„æ‰§è¡Œç¯å¢ƒ

	åœ¨åˆå§‹åŒ–é˜¶æ®µ, WEEX SDK ä¼šå‡†å¤‡å¥½ä¸€ä¸ªjsçš„æ‰§è¡Œç¯å¢ƒã€‚å› ä¸ºæˆ‘ä»¬æ˜¯è¦åœ¨å®¢æˆ·ç«¯è·‘js ä»£ç çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªjsæ‰§è¡Œç¯å¢ƒï¼Œè¿™ä¸ªæ‰§è¡Œç¯å¢ƒç±»ä¼¼äºæµè§ˆå™¨çš„v8 å¼•æ“ï¼Œ åœ¨IOS ä¸Šï¼Œåˆ™æ˜¯å®¢æˆ·ç«¯è‡ªå¸¦çš„ js core

> è¿™ä¸ªjsæ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯ä¸Šçš„æ²™ç›’ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè™šæ‹Ÿæœº

!> ä¸ºäº†æå‡æ€§èƒ½ï¼Œjs æ‰§è¡Œç¯å¢ƒåªç”¨åœ¨åˆå§‹åŒ–çš„æ—¶å€™åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¹‹åæ¯ä¸ªé¡µé¢éƒ½æ— é¡»å†åˆå§‹åŒ–äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡å®¢æˆ·ç«¯æ‰“å¼€å¤šå°‘ä¸ªweexé¡µé¢ï¼Œå¤šä¸ªé¡µé¢çš„ JS éƒ½æ˜¯è·‘åœ¨åŒä¸€ä¸ªjsæ‰§è¡Œç¯å¢ƒä¸­çš„

2. weex-vue-framework æ¡†æ¶

?> weex-vue-framework æ¡†æ¶ æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

	æˆ‘ä»¬å¯ä»¥æŠŠ weex-vue-framework æ¡†æ¶å½“æˆè¢«æ”¹é€ çš„Vue.jsã€‚è¯­æ³•å’Œå†…éƒ¨æœºåˆ¶éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡Vue.jsæœ€ç»ˆåˆ›å»ºçš„æ˜¯ DOM å…ƒç´ ï¼Œè€Œweex-vue-frameworkåˆ™æ˜¯å‘åŸç”Ÿç«¯å‘é€æ¸²æŸ“æŒ‡ä»¤ï¼Œæœ€ç»ˆæ¸²æŸ“ç”Ÿæˆçš„æ˜¯åŸç”Ÿç»„ä»¶

	åŒæ—¶ï¼ŒWeexä¸ºäº†æé«˜Nativeçš„æè‡´æ€§èƒ½ï¼Œåšäº†å¾ˆå¤šä¼˜åŒ–çš„å·¥ä½œã€‚å‰ç«¯ä¼˜åŒ–æ€§èƒ½æ—¶ï¼Œä¼šæŠŠä¸šåŠ¡ä»£ç å’Œ vue.js è¿™ç±»çš„ä¾èµ–åŒ…åˆ†å¼€æ‰“åŒ…ï¼Œä¸€ä¸ªä»½æ˜¯ä¸šåŠ¡ä»£ç ï¼Œä¸€ä»½æ˜¯æ‰“åŒ…çš„æ¡†æ¶ä¾èµ–

> weex æŠŠ`weex-vue-framework`è¿™ç±»æ¡†æ¶ä¾èµ–`å†…ç½®`åˆ°äº†`SDK`ä¸­ï¼Œå®¢æˆ·ç«¯è®¿é—®Weexé¡µé¢æ—¶ï¼Œåªä¼š`ç½‘ç»œè¯·æ±‚JS Bundle`ã€‚ç”±äºJSFrameworkåœ¨æœ¬åœ°ï¼Œæ‰€ä»¥å°±å‡å°‘äº†JS Bundleçš„ä½“ç§¯ï¼Œæ¯ä¸ªJS Bundleéƒ½å¯ä»¥å‡å°‘ä¸€éƒ¨åˆ†ä½“ç§¯ï¼Œä»è€Œæå‡äº†æ€§èƒ½

3. WXBridge é€šä¿¡

	WXBridge æ˜¯ weex å®ç°çš„ä¸€ç§ js å’Œ å®¢æˆ·ç«¯é€šä¿¡çš„æœºåˆ¶

> js æ‰§è¡Œç¯å¢ƒå’Œå®¢æˆ·ç«¯æ˜¯éš”ç¦»çš„ï¼Œä¸ºäº†å’Œå¤–ç•Œå®¢æˆ·ç«¯çš„ä¸–ç•Œé€šä¿¡ï¼Œéœ€è¦æœ‰ä¸€ä¸ªé€šä¿¡çš„æ¡¥æ¢ã€‚weex å®ç°äº† WXBridge, ä¸»è¦é€šè¿‡ `callJS` å’Œ `callNative` ä¸¤ä¸ªæ ¸å¿ƒçš„æ–¹æ³•ï¼Œå®ç° js ä»£ç å’Œå®¢æˆ·ç«¯ä»£ç `åŒå‘é€šä¿¡`

!> åœ¨å®Œæˆäº†ä¸Šé¢çš„åˆå§‹åŒ–ä¹‹åï¼Œweexå·²ç»åšå¥½äº†å‡†å¤‡ï¼Œåªç­‰ç€ä¸‹è½½ JS bundle å°±å¯å¼€å§‹æ¸²æŸ“é¡µé¢äº† ğŸ˜„


> å‚è€ƒï¼š[æ·±å…¥æµ…å‡º Weex æ ¸å¿ƒåŸç†](https://juejin.im/post/5d14619bf265da1b6c5f8747?utm_source=gold_browser_extension&tdsourcetag=s_pctim_aiomsg) | [è®¤è¯†ç§»åŠ¨ç«¯è·¨å¹³å°å¼€å‘](çŸ¥è¯†ç¬”è®°/å¤§å‰ç«¯/ç§»åŠ¨ç«¯/è®¤è¯†ç§»åŠ¨ç«¯è·¨å¹³å°å¼€å‘.md)
